{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte-navigator/src/utils.js","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-navigator/src/contexts.js","../../node_modules/svelte-navigator/src/paths.js","../../node_modules/svelte-navigator/src/warning.js","../../node_modules/svelte-navigator/src/routes.js","../../node_modules/svelte-navigator/src/history.js","../../node_modules/svelte-navigator/src/a11y.js","../../node_modules/svelte-navigator/src/Router.svelte","../../node_modules/svelte-navigator/src/hooks.js","../../node_modules/svelte-navigator/src/Route.svelte","../../node_modules/svelte-navigator/src/Link.svelte","../../node_modules/svelte-toasts/src/toasts.js","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../node_modules/svelte/animate/index.mjs","../../node_modules/svelte-toasts/src/ToastContainer.svelte","../../node_modules/svelte/motion/index.mjs","../../node_modules/svelte-toasts/src/FlatToast.svelte","../../src/store/store.js","../../src/pages/Login/Login.svelte","../../src/components/Post.svelte","../../src/components/StudentCard.svelte","../../src/components/TeacherCard.svelte","../../node_modules/moment/moment.js","../../src/pages/Home/Home.svelte","../../src/pages/Students/Students.svelte","../../node_modules/chart.js/dist/chunks/helpers.segment.js","../../node_modules/chart.js/dist/chart.esm.js","../../src/components/Chart.svelte","../../src/pages/Absence/Absence.svelte","../../src/pages/Protocol/Protocol.svelte","../../src/components/NavBar.svelte","../../src/components/PrivateRouteGuard.svelte","../../src/components/PrivateRoute.svelte","../../src/components/Logout.svelte","../../src/components/Lesson.svelte","../../src/components/Calendar.svelte","../../src/pages/Schedule/Schedule.svelte","../../src/components/ChatMessage.svelte","../../src/components/SearchSelect.svelte","../../node_modules/engine.io-parser/build/esm/commons.js","../../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../../node_modules/engine.io-parser/build/esm/index.js","../../node_modules/@socket.io/component-emitter/index.mjs","../../node_modules/engine.io-client/build/esm/globalThis.browser.js","../../node_modules/engine.io-client/build/esm/util.js","../../node_modules/engine.io-client/build/esm/transport.js","../../node_modules/engine.io-client/build/esm/contrib/yeast.js","../../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../../node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../../node_modules/engine.io-client/build/esm/transports/polling.js","../../node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../../node_modules/engine.io-client/build/esm/transports/websocket.js","../../node_modules/engine.io-client/build/esm/transports/index.js","../../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../node_modules/engine.io-client/build/esm/socket.js","../../node_modules/socket.io-parser/build/esm/is-binary.js","../../node_modules/socket.io-parser/build/esm/binary.js","../../node_modules/socket.io-parser/build/esm/index.js","../../node_modules/socket.io-client/build/esm/on.js","../../node_modules/socket.io-client/build/esm/socket.js","../../node_modules/socket.io-client/build/esm/contrib/backo2.js","../../node_modules/socket.io-client/build/esm/manager.js","../../node_modules/socket.io-client/build/esm/index.js","../../node_modules/socket.io-client/build/esm/url.js","../../src/components/ChatBox.svelte","../../src/components/ChatBar.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { stylesheet } = info;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            info.rules = {};\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape_attribute_value(value.toString())}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${style_object[key]};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.47.0' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    if (tag && typeof tag !== 'string') {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","/*\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/utils.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n */\n\nexport const isUndefined = value => typeof value === \"undefined\";\n\nexport const isFunction = value => typeof value === \"function\";\n\nexport const isNumber = value => typeof value === \"number\";\n\n/**\n * Decides whether a given `event` should result in a navigation or not.\n * @param {object} event\n */\nexport function shouldNavigate(event) {\n\treturn (\n\t\t!event.defaultPrevented &&\n\t\tevent.button === 0 &&\n\t\t!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)\n\t);\n}\n\nexport function createCounter() {\n\tlet i = 0;\n\t/**\n\t * Returns an id and increments the internal state\n\t * @returns {number}\n\t */\n\treturn () => i++;\n}\n\n/**\n * Create a globally unique id\n *\n * @returns {string} An id\n */\nexport function createGlobalId() {\n\treturn Math.random().toString(36).substring(2);\n}\n\nexport function findClosest(tagName, element) {\n\twhile (element && element.tagName !== tagName) {\n\t\t// eslint-disable-next-line no-param-reassign\n\t\telement = element.parentNode;\n\t}\n\treturn element;\n}\n\nexport const isSSR = typeof window === \"undefined\";\n\nexport function addListener(target, type, handler) {\n\ttarget.addEventListener(type, handler);\n\treturn () => target.removeEventListener(type, handler);\n}\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","/*\n * Adapted from https://github.com/EmilTholin/svelte-routing\n *\n * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n */\n\nconst createKey = ctxName => `@@svnav-ctx__${ctxName}`;\n\n// Use strings instead of objects, so different versions of\n// svelte-navigator can potentially still work together\nexport const LOCATION = createKey(\"LOCATION\");\nexport const ROUTER = createKey(\"ROUTER\");\nexport const ROUTE = createKey(\"ROUTE\");\nexport const ROUTE_PARAMS = createKey(\"ROUTE_PARAMS\");\nexport const FOCUS_ELEM = createKey(\"FOCUS_ELEM\");\n","export const paramRegex = /^:(.+)/;\n\n/**\n * Check if `string` starts with `search`\n * @param {string} string\n * @param {string} search\n * @return {boolean}\n */\nexport const startsWith = (string, search) =>\n\tstring.substr(0, search.length) === search;\n\n/**\n * Check if `segment` is a root segment\n * @param {string} segment\n * @return {boolean}\n */\nexport const isRootSegment = segment => segment === \"\";\n\n/**\n * Check if `segment` is a dynamic segment\n * @param {string} segment\n * @return {boolean}\n */\nexport const isDynamic = segment => paramRegex.test(segment);\n\n/**\n * Check if `segment` is a splat\n * @param {string} segment\n * @return {boolean}\n */\nexport const isSplat = segment => segment[0] === \"*\";\n\n/**\n * Strip potention splat and splatname of the end of a path\n * @param {string} str\n * @return {string}\n */\nexport const stripSplat = str => str.replace(/\\*.*$/, \"\");\n\n/**\n * Strip `str` of potential start and end `/`\n * @param {string} str\n * @return {string}\n */\nexport const stripSlashes = str => str.replace(/(^\\/+|\\/+$)/g, \"\");\n\n/**\n * Split up the URI into segments delimited by `/`\n * @param {string} uri\n * @return {string[]}\n */\nexport function segmentize(uri, filterFalsy = false) {\n\tconst segments = stripSlashes(uri).split(\"/\");\n\treturn filterFalsy ? segments.filter(Boolean) : segments;\n}\n\n/**\n * Add the query to the pathname if a query is given\n * @param {string} pathname\n * @param {string} [query]\n * @return {string}\n */\nexport const addQuery = (pathname, query) =>\n\tpathname + (query ? `?${query}` : \"\");\n\n/**\n * Combines the `basepath` and the `path` into one path.\n * @param {string} basepath\n * @param {string} path\n */\nexport function combinePaths(basepath, path) {\n\tconst barePath =\n\t\tpath === \"/\" ? basepath : `${stripSlashes(basepath)}/${stripSlashes(path)}`;\n\treturn `${stripSlashes(barePath)}/`;\n}\n\n/**\n * Normalizes a basepath\n *\n * @param {string} path\n * @returns {string}\n *\n * @example\n * normalizePath(\"base/path/\") // -> \"/base/path\"\n */\nexport const normalizePath = path => `/${stripSlashes(path)}`;\n\n/**\n * Joins and normalizes multiple path fragments\n *\n * @param {...string} pathFragments\n * @returns {string}\n */\nexport function join(...pathFragments) {\n\tconst joinFragment = fragment => segmentize(fragment, true).join(\"/\");\n\tconst joinedSegments = pathFragments.map(joinFragment).join(\"/\");\n\treturn normalizePath(joinedSegments);\n}\n","import { isFunction } from \"./utils\";\n\n// We start from 1 here, so we can check if an origin id has been passed\n// by using `originId || <fallback>`\nexport const LINK_ID = 1;\nexport const ROUTE_ID = 2;\nexport const ROUTER_ID = 3;\nexport const USE_FOCUS_ID = 4;\nexport const USE_LOCATION_ID = 5;\nexport const USE_MATCH_ID = 6;\nexport const USE_NAVIGATE_ID = 7;\nexport const USE_PARAMS_ID = 8;\nexport const USE_RESOLVABLE_ID = 9;\nexport const USE_RESOLVE_ID = 10;\nexport const NAVIGATE_ID = 11;\n\nconst labels = {\n\t[LINK_ID]: \"Link\",\n\t[ROUTE_ID]: \"Route\",\n\t[ROUTER_ID]: \"Router\",\n\t[USE_FOCUS_ID]: \"useFocus\",\n\t[USE_LOCATION_ID]: \"useLocation\",\n\t[USE_MATCH_ID]: \"useMatch\",\n\t[USE_NAVIGATE_ID]: \"useNavigate\",\n\t[USE_PARAMS_ID]: \"useParams\",\n\t[USE_RESOLVABLE_ID]: \"useResolvable\",\n\t[USE_RESOLVE_ID]: \"useResolve\",\n\t[NAVIGATE_ID]: \"navigate\",\n};\n\nexport const createLabel = labelId => labels[labelId];\n\nexport function createIdentifier(labelId, props) {\n\tlet attr;\n\tif (labelId === ROUTE_ID) {\n\t\tattr = props.path ? `path=\"${props.path}\"` : \"default\";\n\t} else if (labelId === LINK_ID) {\n\t\tattr = `to=\"${props.to}\"`;\n\t} else if (labelId === ROUTER_ID) {\n\t\tattr = `basepath=\"${props.basepath || \"\"}\"`;\n\t}\n\treturn `<${createLabel(labelId)} ${attr || \"\"} />`;\n}\n\nexport function createMessage(labelId, message, props, originId) {\n\tconst origin = props && createIdentifier(originId || labelId, props);\n\tconst originMsg = origin ? `\\n\\nOccurred in: ${origin}` : \"\";\n\tconst label = createLabel(labelId);\n\tconst msg = isFunction(message) ? message(label) : message;\n\treturn `<${label}> ${msg}${originMsg}`;\n}\n\nexport const createMessageHandler = handler => (...args) =>\n\thandler(createMessage(...args));\n\nexport const fail = createMessageHandler(message => {\n\tthrow new Error(message);\n});\n\n// eslint-disable-next-line no-console\nexport const warn = createMessageHandler(console.warn);\n","import {\n\tsegmentize,\n\tjoin,\n\taddQuery,\n\tstartsWith,\n\tparamRegex,\n\tisSplat,\n\tisRootSegment,\n\tisDynamic,\n\tstripSplat,\n\tnormalizePath,\n} from \"./paths\";\nimport { ROUTER_ID, fail } from \"./warning\";\nimport { isUndefined } from \"./utils\";\n\nconst SEGMENT_POINTS = 4;\nconst STATIC_POINTS = 3;\nconst DYNAMIC_POINTS = 2;\nconst SPLAT_PENALTY = 1;\nconst ROOT_POINTS = 1;\n\n/**\n * Score a route depending on how its individual segments look\n * @param {object} route\n * @param {number} index\n * @return {object}\n */\nexport function rankRoute(route, index) {\n\tconst score = route.default\n\t\t? 0\n\t\t: segmentize(route.fullPath).reduce((acc, segment) => {\n\t\t\t\tlet nextScore = acc;\n\t\t\t\tnextScore += SEGMENT_POINTS;\n\n\t\t\t\tif (isRootSegment(segment)) {\n\t\t\t\t\tnextScore += ROOT_POINTS;\n\t\t\t\t} else if (isDynamic(segment)) {\n\t\t\t\t\tnextScore += DYNAMIC_POINTS;\n\t\t\t\t} else if (isSplat(segment)) {\n\t\t\t\t\tnextScore -= SEGMENT_POINTS + SPLAT_PENALTY;\n\t\t\t\t} else {\n\t\t\t\t\tnextScore += STATIC_POINTS;\n\t\t\t\t}\n\n\t\t\t\treturn nextScore;\n\t\t  }, 0);\n\n\treturn { route, score, index };\n}\n\n/**\n * Give a score to all routes and sort them on that\n * @param {object[]} routes\n * @return {object[]}\n */\nexport function rankRoutes(routes) {\n\treturn (\n\t\troutes\n\t\t\t.map(rankRoute)\n\t\t\t// If two routes have the exact same score, we go by index instead\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.score < b.score) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (a.score > b.score) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn a.index - b.index;\n\t\t\t})\n\t);\n}\n\n/**\n * Ranks and picks the best route to match. Each segment gets the highest\n * amount of points, then the type of segment gets an additional amount of\n * points where\n *\n *  static > dynamic > splat > root\n *\n * This way we don't have to worry about the order of our routes, let the\n * computers do it.\n *\n * A route looks like this\n *\n *  { fullPath, default, value }\n *\n * And a returned match looks like:\n *\n *  { route, params, uri }\n *\n * @param {object[]} routes\n * @param {string} uri\n * @return {?object}\n */\nexport function pick(routes, uri) {\n\tlet bestMatch;\n\tlet defaultMatch;\n\n\tconst [uriPathname] = uri.split(\"?\");\n\tconst uriSegments = segmentize(uriPathname);\n\tconst isRootUri = uriSegments[0] === \"\";\n\tconst ranked = rankRoutes(routes);\n\n\tfor (let i = 0, l = ranked.length; i < l; i++) {\n\t\tconst { route } = ranked[i];\n\t\tlet missed = false;\n\t\tconst params = {};\n\n\t\t// eslint-disable-next-line no-shadow\n\t\tconst createMatch = uri => ({ ...route, params, uri });\n\n\t\tif (route.default) {\n\t\t\tdefaultMatch = createMatch(uri);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst routeSegments = segmentize(route.fullPath);\n\t\tconst max = Math.max(uriSegments.length, routeSegments.length);\n\t\tlet index = 0;\n\n\t\tfor (; index < max; index++) {\n\t\t\tconst routeSegment = routeSegments[index];\n\t\t\tconst uriSegment = uriSegments[index];\n\n\t\t\tif (!isUndefined(routeSegment) && isSplat(routeSegment)) {\n\t\t\t\t// Hit a splat, just grab the rest, and return a match\n\t\t\t\t// uri:   /files/documents/work\n\t\t\t\t// route: /files/* or /files/*splatname\n\t\t\t\tconst splatName = routeSegment === \"*\" ? \"*\" : routeSegment.slice(1);\n\n\t\t\t\tparams[splatName] = uriSegments\n\t\t\t\t\t.slice(index)\n\t\t\t\t\t.map(decodeURIComponent)\n\t\t\t\t\t.join(\"/\");\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (isUndefined(uriSegment)) {\n\t\t\t\t// URI is shorter than the route, no match\n\t\t\t\t// uri:   /users\n\t\t\t\t// route: /users/:userId\n\t\t\t\tmissed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst dynamicMatch = paramRegex.exec(routeSegment);\n\n\t\t\tif (dynamicMatch && !isRootUri) {\n\t\t\t\tconst value = decodeURIComponent(uriSegment);\n\t\t\t\tparams[dynamicMatch[1]] = value;\n\t\t\t} else if (routeSegment !== uriSegment) {\n\t\t\t\t// Current segments don't match, not dynamic, not splat, so no match\n\t\t\t\t// uri:   /users/123/settings\n\t\t\t\t// route: /users/:id/profile\n\t\t\t\tmissed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!missed) {\n\t\t\tbestMatch = createMatch(join(...uriSegments.slice(0, index)));\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn bestMatch || defaultMatch || null;\n}\n\n/**\n * Check if the `route.fullPath` matches the `uri`.\n * @param {Object} route\n * @param {string} uri\n * @return {?object}\n */\nexport function match(route, uri) {\n\treturn pick([route], uri);\n}\n\n/**\n * Resolve URIs as though every path is a directory, no files. Relative URIs\n * in the browser can feel awkward because not only can you be \"in a directory\",\n * you can be \"at a file\", too. For example:\n *\n *  browserSpecResolve('foo', '/bar/') => /bar/foo\n *  browserSpecResolve('foo', '/bar') => /foo\n *\n * But on the command line of a file system, it's not as complicated. You can't\n * `cd` from a file, only directories. This way, links have to know less about\n * their current path. To go deeper you can do this:\n *\n *  <Link to=\"deeper\"/>\n *  // instead of\n *  <Link to=`{${props.uri}/deeper}`/>\n *\n * Just like `cd`, if you want to go deeper from the command line, you do this:\n *\n *  cd deeper\n *  # not\n *  cd $(pwd)/deeper\n *\n * By treating every path as a directory, linking to relative paths should\n * require less contextual information and (fingers crossed) be more intuitive.\n * @param {string} to\n * @param {string} base\n * @return {string}\n */\nexport function resolve(to, base) {\n\t// /foo/bar, /baz/qux => /foo/bar\n\tif (startsWith(to, \"/\")) {\n\t\treturn to;\n\t}\n\n\tconst [toPathname, toQuery] = to.split(\"?\");\n\tconst [basePathname] = base.split(\"?\");\n\tconst toSegments = segmentize(toPathname);\n\tconst baseSegments = segmentize(basePathname);\n\n\t// ?a=b, /users?b=c => /users?a=b\n\tif (toSegments[0] === \"\") {\n\t\treturn addQuery(basePathname, toQuery);\n\t}\n\n\t// profile, /users/789 => /users/789/profile\n\tif (!startsWith(toSegments[0], \".\")) {\n\t\tconst pathname = baseSegments.concat(toSegments).join(\"/\");\n\t\treturn addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n\t}\n\n\t// ./       , /users/123 => /users/123\n\t// ../      , /users/123 => /users\n\t// ../..    , /users/123 => /\n\t// ../../one, /a/b/c/d   => /a/b/one\n\t// .././one , /a/b/c/d   => /a/b/c/one\n\tconst allSegments = baseSegments.concat(toSegments);\n\tconst segments = [];\n\n\tallSegments.forEach(segment => {\n\t\tif (segment === \"..\") {\n\t\t\tsegments.pop();\n\t\t} else if (segment !== \".\") {\n\t\t\tsegments.push(segment);\n\t\t}\n\t});\n\n\treturn addQuery(`/${segments.join(\"/\")}`, toQuery);\n}\n\n/**\n * Normalizes a location for consumption by `Route` children and the `Router`.\n * It removes the apps basepath from the pathname\n * and sets default values for `search` and `hash` properties.\n *\n * @param {Object} location The current global location supplied by the history component\n * @param {string} basepath The applications basepath (i.e. when serving from a subdirectory)\n *\n * @returns The normalized location\n */\nexport function normalizeLocation(location, basepath) {\n\tconst { pathname, hash = \"\", search = \"\", state } = location;\n\tconst baseSegments = segmentize(basepath, true);\n\tconst pathSegments = segmentize(pathname, true);\n\twhile (baseSegments.length) {\n\t\tif (baseSegments[0] !== pathSegments[0]) {\n\t\t\tfail(\n\t\t\t\tROUTER_ID,\n\t\t\t\t`Invalid state: All locations must begin with the basepath \"${basepath}\", found \"${pathname}\"`,\n\t\t\t);\n\t\t}\n\t\tbaseSegments.shift();\n\t\tpathSegments.shift();\n\t}\n\treturn {\n\t\tpathname: join(...pathSegments),\n\t\thash,\n\t\tsearch,\n\t\tstate,\n\t};\n}\n\nconst normalizeUrlFragment = frag => (frag.length === 1 ? \"\" : frag);\n\n/**\n * Creates a location object from an url.\n * It is used to create a location from the url prop used in SSR\n *\n * @param {string} url The url string (e.g. \"/path/to/somewhere\")\n *\n * @returns {{ pathname: string; search: string; hash: string }} The location\n */\nexport function createLocation(url) {\n\tconst searchIndex = url.indexOf(\"?\");\n\tconst hashIndex = url.indexOf(\"#\");\n\tconst hasSearchIndex = searchIndex !== -1;\n\tconst hasHashIndex = hashIndex !== -1;\n\tconst hash = hasHashIndex ? normalizeUrlFragment(url.substr(hashIndex)) : \"\";\n\tconst pathnameAndSearch = hasHashIndex ? url.substr(0, hashIndex) : url;\n\tconst search = hasSearchIndex\n\t\t? normalizeUrlFragment(pathnameAndSearch.substr(searchIndex))\n\t\t: \"\";\n\tconst pathname = hasSearchIndex\n\t\t? pathnameAndSearch.substr(0, searchIndex)\n\t\t: pathnameAndSearch;\n\treturn { pathname, search, hash };\n}\n\n/**\n * Resolves a link relative to the parent Route and the Routers basepath.\n *\n * @param {string} path The given path, that will be resolved\n * @param {string} routeBase The current Routes base path\n * @param {string} appBase The basepath of the app. Used, when serving from a subdirectory\n * @returns {string} The resolved path\n *\n * @example\n * resolveLink(\"relative\", \"/routeBase\", \"/\") // -> \"/routeBase/relative\"\n * resolveLink(\"/absolute\", \"/routeBase\", \"/\") // -> \"/absolute\"\n * resolveLink(\"relative\", \"/routeBase\", \"/base\") // -> \"/base/routeBase/relative\"\n * resolveLink(\"/absolute\", \"/routeBase\", \"/base\") // -> \"/base/absolute\"\n */\nexport function resolveLink(path, routeBase, appBase) {\n\treturn join(appBase, resolve(path, routeBase));\n}\n\n/**\n * Get the uri for a Route, by matching it against the current location.\n *\n * @param {string} routePath The Routes resolved path\n * @param {string} pathname The current locations pathname\n */\nexport function extractBaseUri(routePath, pathname) {\n\tconst fullPath = normalizePath(stripSplat(routePath));\n\tconst baseSegments = segmentize(fullPath, true);\n\tconst pathSegments = segmentize(pathname, true).slice(0, baseSegments.length);\n\tconst routeMatch = match({ fullPath }, join(...pathSegments));\n\treturn routeMatch && routeMatch.uri;\n}\n","/*\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/history.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n */\n\nimport { createLocation } from \"./routes\";\nimport { createGlobalId, isSSR, isNumber, addListener } from \"./utils\";\nimport { warn, NAVIGATE_ID } from \"./warning\";\n\nconst POP = \"POP\";\nconst PUSH = \"PUSH\";\nconst REPLACE = \"REPLACE\";\n\nfunction getLocation(source) {\n\treturn {\n\t\t...source.location,\n\t\tpathname: encodeURI(decodeURI(source.location.pathname)),\n\t\tstate: source.history.state,\n\t\t_key: (source.history.state && source.history.state._key) || \"initial\",\n\t};\n}\n\nfunction createHistory(source) {\n\tlet listeners = [];\n\tlet location = getLocation(source);\n\tlet action = POP;\n\n\tconst notifyListeners = (listenerFns = listeners) =>\n\t\tlistenerFns.forEach(listener => listener({ location, action }));\n\n\treturn {\n\t\tget location() {\n\t\t\treturn location;\n\t\t},\n\t\tlisten(listener) {\n\t\t\tlisteners.push(listener);\n\n\t\t\tconst popstateListener = () => {\n\t\t\t\tlocation = getLocation(source);\n\t\t\t\taction = POP;\n\t\t\t\tnotifyListeners([listener]);\n\t\t\t};\n\n\t\t\t// Call listener when it is registered\n\t\t\tnotifyListeners([listener]);\n\n\t\t\tconst unlisten = addListener(source, \"popstate\", popstateListener);\n\t\t\treturn () => {\n\t\t\t\tunlisten();\n\t\t\t\tlisteners = listeners.filter(fn => fn !== listener);\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Navigate to a new absolute route.\n\t\t *\n\t\t * @param {string|number} to The path to navigate to.\n\t\t *\n\t\t * If `to` is a number we will navigate to the stack entry index + `to`\n\t\t * (-> `navigate(-1)`, is equivalent to hitting the back button of the browser)\n\t\t * @param {Object} options\n\t\t * @param {*} [options.state] The state will be accessible through `location.state`\n\t\t * @param {boolean} [options.replace=false] Replace the current entry in the history\n\t\t * stack, instead of pushing on a new one\n\t\t */\n\t\tnavigate(to, options) {\n\t\t\tconst { state = {}, replace = false } = options || {};\n\t\t\taction = replace ? REPLACE : PUSH;\n\t\t\tif (isNumber(to)) {\n\t\t\t\tif (options) {\n\t\t\t\t\twarn(\n\t\t\t\t\t\tNAVIGATE_ID,\n\t\t\t\t\t\t\"Navigation options (state or replace) are not supported, \" +\n\t\t\t\t\t\t\t\"when passing a number as the first argument to navigate. \" +\n\t\t\t\t\t\t\t\"They are ignored.\",\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\taction = POP;\n\t\t\t\tsource.history.go(to);\n\t\t\t} else {\n\t\t\t\tconst keyedState = { ...state, _key: createGlobalId() };\n\t\t\t\t// try...catch iOS Safari limits to 100 pushState calls\n\t\t\t\ttry {\n\t\t\t\t\tsource.history[replace ? \"replaceState\" : \"pushState\"](\n\t\t\t\t\t\tkeyedState,\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\tto,\n\t\t\t\t\t);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsource.location[replace ? \"replace\" : \"assign\"](to);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlocation = getLocation(source);\n\t\t\tnotifyListeners();\n\t\t},\n\t};\n}\n\nfunction createStackFrame(state, uri) {\n\treturn { ...createLocation(uri), state };\n}\n\n// Stores history entries in memory for testing or other platforms like Native\nfunction createMemorySource(initialPathname = \"/\") {\n\tlet index = 0;\n\tlet stack = [createStackFrame(null, initialPathname)];\n\n\treturn {\n\t\t// This is just for testing...\n\t\tget entries() {\n\t\t\treturn stack;\n\t\t},\n\t\tget location() {\n\t\t\treturn stack[index];\n\t\t},\n\t\taddEventListener() {},\n\t\tremoveEventListener() {},\n\t\thistory: {\n\t\t\tget state() {\n\t\t\t\treturn stack[index].state;\n\t\t\t},\n\t\t\tpushState(state, title, uri) {\n\t\t\t\tindex++;\n\t\t\t\t// Throw away anything in the stack with an index greater than the current index.\n\t\t\t\t// This happens, when we go back using `go(-n)`. The index is now less than `stack.length`.\n\t\t\t\t// If we call `go(+n)` the stack entries with an index greater than the current index can\n\t\t\t\t// be reused.\n\t\t\t\t// However, if we navigate to a path, instead of a number, we want to create a new branch\n\t\t\t\t// of navigation.\n\t\t\t\tstack = stack.slice(0, index);\n\t\t\t\tstack.push(createStackFrame(state, uri));\n\t\t\t},\n\t\t\treplaceState(state, title, uri) {\n\t\t\t\tstack[index] = createStackFrame(state, uri);\n\t\t\t},\n\t\t\tgo(to) {\n\t\t\t\tconst newIndex = index + to;\n\t\t\t\tif (newIndex < 0 || newIndex > stack.length - 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tindex = newIndex;\n\t\t\t},\n\t\t},\n\t};\n}\n\n// Global history uses window.history as the source if available,\n// otherwise a memory history\nconst canUseDOM = !!(\n\t!isSSR &&\n\twindow.document &&\n\twindow.document.createElement\n);\n// Use memory history in iframes (for example in Svelte REPL)\nconst isEmbeddedPage = !isSSR && window.location.origin === \"null\";\nconst globalHistory = createHistory(\n\tcanUseDOM && !isEmbeddedPage ? window : createMemorySource(),\n);\nconst { navigate } = globalHistory;\n\nexport { globalHistory, navigate, createHistory, createMemorySource };\n","import { get } from \"svelte/store\";\nimport { tick } from \"svelte\";\nimport { warn, ROUTER_ID, ROUTE_ID } from \"./warning\";\nimport { addListener } from \"./utils\";\n\n// We need to keep the focus candidate in a separate file, so svelte does\n// not update, when we mutate it.\n// Also, we need a single global reference, because taking focus needs to\n// work globally, even if we have multiple top level routers\n// eslint-disable-next-line import/no-mutable-exports\nexport let focusCandidate = null;\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let initialNavigation = true;\n\n/**\n * Check if RouterA is above RouterB in the document\n * @param {number} routerIdA The first Routers id\n * @param {number} routerIdB The second Routers id\n */\nfunction isAbove(routerIdA, routerIdB) {\n\tconst routerMarkers = document.querySelectorAll(\"[data-svnav-router]\");\n\tfor (let i = 0; i < routerMarkers.length; i++) {\n\t\tconst node = routerMarkers[i];\n\t\tconst currentId = Number(node.dataset.svnavRouter);\n\t\tif (currentId === routerIdA) return true;\n\t\tif (currentId === routerIdB) return false;\n\t}\n\treturn false;\n}\n\n/**\n * Check if a Route candidate is the best choice to move focus to,\n * and store the best match.\n * @param {{\n     level: number;\n     routerId: number;\n     route: {\n       id: number;\n       focusElement: import(\"svelte/store\").Readable<Promise<Element>|null>;\n     }\n   }} item A Route candidate, that updated and is visible after a navigation\n */\nexport function pushFocusCandidate(item) {\n\tif (\n\t\t// Best candidate if it's the only candidate...\n\t\t!focusCandidate ||\n\t\t// Route is nested deeper, than previous candidate\n\t\t// -> Route change was triggered in the deepest affected\n\t\t// Route, so that's were focus should move to\n\t\titem.level > focusCandidate.level ||\n\t\t// If the level is identical, we want to focus the first Route in the document,\n\t\t// so we pick the first Router lookin from page top to page bottom.\n\t\t(item.level === focusCandidate.level &&\n\t\t\tisAbove(item.routerId, focusCandidate.routerId))\n\t) {\n\t\tfocusCandidate = item;\n\t}\n}\n\n/**\n * Reset the focus candidate.\n */\nexport function clearFocusCandidate() {\n\tfocusCandidate = null;\n}\n\nexport function initialNavigationOccurred() {\n\tinitialNavigation = false;\n}\n\n/*\n * `focus` Adapted from https://github.com/oaf-project/oaf-side-effects/blob/master/src/index.ts\n *\n * https://github.com/oaf-project/oaf-side-effects/blob/master/LICENSE\n */\nexport function focus(elem) {\n\tif (!elem) return false;\n\tconst TABINDEX = \"tabindex\";\n\ttry {\n\t\tif (!elem.hasAttribute(TABINDEX)) {\n\t\t\telem.setAttribute(TABINDEX, \"-1\");\n\t\t\tlet unlisten;\n\t\t\t// We remove tabindex after blur to avoid weird browser behavior\n\t\t\t// where a mouse click can activate elements with tabindex=\"-1\".\n\t\t\tconst blurListener = () => {\n\t\t\t\telem.removeAttribute(TABINDEX);\n\t\t\t\tunlisten();\n\t\t\t};\n\t\t\tunlisten = addListener(elem, \"blur\", blurListener);\n\t\t}\n\t\telem.focus();\n\t\treturn document.activeElement === elem;\n\t} catch (e) {\n\t\t// Apparently trying to focus a disabled element in IE can throw.\n\t\t// See https://stackoverflow.com/a/1600194/2476884\n\t\treturn false;\n\t}\n}\n\nexport function isEndMarker(elem, id) {\n\treturn Number(elem.dataset.svnavRouteEnd) === id;\n}\n\nexport function isHeading(elem) {\n\treturn /^H[1-6]$/i.test(elem.tagName);\n}\n\nfunction query(selector, parent = document) {\n\treturn parent.querySelector(selector);\n}\n\nexport function queryHeading(id) {\n\tconst marker = query(`[data-svnav-route-start=\"${id}\"]`);\n\tlet current = marker.nextElementSibling;\n\twhile (!isEndMarker(current, id)) {\n\t\tif (isHeading(current)) {\n\t\t\treturn current;\n\t\t}\n\t\tconst heading = query(\"h1,h2,h3,h4,h5,h6\", current);\n\t\tif (heading) {\n\t\t\treturn heading;\n\t\t}\n\t\tcurrent = current.nextElementSibling;\n\t}\n\treturn null;\n}\n\nexport function handleFocus(route) {\n\tPromise.resolve(get(route.focusElement)).then(elem => {\n\t\tconst focusElement = elem || queryHeading(route.id);\n\t\tif (!focusElement) {\n\t\t\twarn(\n\t\t\t\tROUTER_ID,\n\t\t\t\t\"Could not find an element to focus. \" +\n\t\t\t\t\t\"You should always render a header for accessibility reasons, \" +\n\t\t\t\t\t'or set a custom focus element via the \"useFocus\" hook. ' +\n\t\t\t\t\t\"If you don't want this Route or Router to manage focus, \" +\n\t\t\t\t\t'pass \"primary={false}\" to it.',\n\t\t\t\troute,\n\t\t\t\tROUTE_ID,\n\t\t\t);\n\t\t}\n\t\tconst headingFocused = focus(focusElement);\n\t\tif (headingFocused) return;\n\t\tfocus(document.documentElement);\n\t});\n}\n\nexport const createTriggerFocus = (a11yConfig, announcementText, location) => (\n\tmanageFocus,\n\tannounceNavigation,\n) =>\n\t// Wait until the dom is updated, so we can look for headings\n\ttick().then(() => {\n\t\tif (!focusCandidate || initialNavigation) {\n\t\t\tinitialNavigationOccurred();\n\t\t\treturn;\n\t\t}\n\t\tif (manageFocus) {\n\t\t\thandleFocus(focusCandidate.route);\n\t\t}\n\t\tif (a11yConfig.announcements && announceNavigation) {\n\t\t\tconst { path, fullPath, meta, params, uri } = focusCandidate.route;\n\t\t\tconst announcementMessage = a11yConfig.createAnnouncement(\n\t\t\t\t{ path, fullPath, meta, params, uri },\n\t\t\t\tget(location),\n\t\t\t);\n\t\t\tPromise.resolve(announcementMessage).then(message => {\n\t\t\t\tannouncementText.set(message);\n\t\t\t});\n\t\t}\n\t\tclearFocusCandidate();\n\t});\n\nexport const visuallyHiddenStyle =\n\t\"position:fixed;\" +\n\t\"top:-1px;\" +\n\t\"left:0;\" +\n\t\"width:1px;\" +\n\t\"height:1px;\" +\n\t\"padding:0;\" +\n\t\"overflow:hidden;\" +\n\t\"clip:rect(0,0,0,0);\" +\n\t\"white-space:nowrap;\" +\n\t\"border:0;\";\n","<script context=\"module\">\n\t// eslint-disable-next-line import/order\n\timport { createCounter } from \"./utils\";\n\n\tconst createId = createCounter();\n</script>\n\n<script>\n\t/*\n\t * Adapted from https://github.com/EmilTholin/svelte-routing\n\t *\n\t * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n\t */\n\n\timport { getContext, setContext, onMount } from \"svelte\";\n\timport { writable } from \"svelte/store\";\n\timport { LOCATION, ROUTER } from \"./contexts\";\n\timport { globalHistory } from \"./history\";\n\timport { normalizePath } from \"./paths\";\n\timport { pick, match, normalizeLocation, createLocation } from \"./routes\";\n\timport { isSSR } from \"./utils\";\n\timport { warn, ROUTER_ID } from \"./warning\";\n\timport {\n\t\tpushFocusCandidate,\n\t\tvisuallyHiddenStyle,\n\t\tcreateTriggerFocus,\n\t} from \"./a11y\";\n\n\tconst defaultBasepath = \"/\";\n\n\texport let basepath = defaultBasepath;\n\texport let url = null;\n\texport let history = globalHistory;\n\texport let primary = true;\n\texport let a11y = {};\n\n\tconst a11yConfig = {\n\t\tcreateAnnouncement: route => `Navigated to ${route.uri}`,\n\t\tannouncements: true,\n\t\t...a11y,\n\t};\n\n\t// Remember the initial `basepath`, so we can fire a warning\n\t// when the user changes it later\n\tconst initialBasepath = basepath;\n\tconst normalizedBasepath = normalizePath(basepath);\n\n\tconst locationContext = getContext(LOCATION);\n\tconst routerContext = getContext(ROUTER);\n\n\tconst isTopLevelRouter = !locationContext;\n\tconst routerId = createId();\n\n\tconst manageFocus = primary && !(routerContext && !routerContext.manageFocus);\n\tconst announcementText = writable(\"\");\n\n\tconst routes = writable([]);\n\tconst activeRoute = writable(null);\n\t// Used in SSR to synchronously set that a Route is active.\n\tlet hasActiveRoute = false;\n\n\t// Nesting level of router.\n\t// We will need this to identify sibling routers, when moving\n\t// focus on navigation, so we can focus the first possible router\n\tconst level = isTopLevelRouter ? 0 : routerContext.level + 1;\n\n\t// If we're running an SSR we force the location to the `url` prop\n\tconst getInitialLocation = () =>\n\t\tnormalizeLocation(\n\t\t\tisSSR ? createLocation(url) : history.location,\n\t\t\tnormalizedBasepath,\n\t\t);\n\tconst location = isTopLevelRouter\n\t\t? writable(getInitialLocation())\n\t\t: locationContext;\n\tconst prevLocation = writable($location);\n\n\tconst triggerFocus = createTriggerFocus(\n\t\ta11yConfig,\n\t\tannouncementText,\n\t\tlocation,\n\t);\n\n\tconst createRouteFilter = routeId => routeList =>\n\t\trouteList.filter(routeItem => routeItem.id !== routeId);\n\n\tfunction registerRoute(route) {\n\t\tif (isSSR) {\n\t\t\t// In SSR we should set the activeRoute immediately if it is a match.\n\t\t\t// If there are more Routes being registered after a match is found,\n\t\t\t// we just skip them.\n\t\t\tif (hasActiveRoute) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst matchingRoute = match(route, $location.pathname);\n\t\t\tif (matchingRoute) {\n\t\t\t\thasActiveRoute = true;\n\t\t\t\t// Return the match in SSR mode, so the matched Route can use it immediatly.\n\t\t\t\t// Waiting for activeRoute to update does not work, because it updates\n\t\t\t\t// after the Route is initialized\n\t\t\t\treturn matchingRoute; // eslint-disable-line consistent-return\n\t\t\t}\n\t\t} else {\n\t\t\troutes.update(prevRoutes => {\n\t\t\t\t// Remove an old version of the updated route,\n\t\t\t\t// before pushing the new version\n\t\t\t\tconst nextRoutes = createRouteFilter(route.id)(prevRoutes);\n\t\t\t\tnextRoutes.push(route);\n\t\t\t\treturn nextRoutes;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction unregisterRoute(routeId) {\n\t\troutes.update(createRouteFilter(routeId));\n\t}\n\n\tif (!isTopLevelRouter && basepath !== defaultBasepath) {\n\t\twarn(\n\t\t\tROUTER_ID,\n\t\t\t'Only top-level Routers can have a \"basepath\" prop. It is ignored.',\n\t\t\t{ basepath },\n\t\t);\n\t}\n\t$: if (basepath !== initialBasepath) {\n\t\twarn(ROUTER_ID, 'You cannot change the \"basepath\" prop. It is ignored.');\n\t}\n\n\t// This reactive statement will be run when the Router is created\n\t// when there are no Routes and then again the following tick, so it\n\t// will not find an active Route in SSR and in the browser it will only\n\t// pick an active Route after all Routes have been registered.\n\t$: {\n\t\tconst bestMatch = pick($routes, $location.pathname);\n\t\tactiveRoute.set(bestMatch);\n\t}\n\n\t// Manage focus and announce navigation to screen reader users\n\t$: {\n\t\tif (isTopLevelRouter) {\n\t\t\tconst hasHash = !!$location.hash;\n\t\t\t// When a hash is present in the url, we skip focus management, because\n\t\t\t// focusing a different element will prevent in-page jumps (See #3)\n\t\t\tconst shouldManageFocus = !hasHash && manageFocus;\n\t\t\t// We don't want to make an announcement, when the hash changes,\n\t\t\t// but the active route stays the same\n\t\t\tconst announceNavigation =\n\t\t\t\t!hasHash || $location.pathname !== $prevLocation.pathname;\n\t\t\ttriggerFocus(shouldManageFocus, announceNavigation);\n\t\t}\n\t}\n\n\t// Queue matched Route, so top level Router can decide which Route to focus.\n\t// Non primary Routers should just be ignored\n\t$: if (manageFocus && $activeRoute && $activeRoute.primary) {\n\t\tpushFocusCandidate({ level, routerId, route: $activeRoute });\n\t}\n\n\tif (isTopLevelRouter) {\n\t\t// The topmost Router in the tree is responsible for updating\n\t\t// the location store and supplying it through context.\n\t\tonMount(() => {\n\t\t\tconst unlisten = history.listen(changedHistory => {\n\t\t\t\tconst normalizedLocation = normalizeLocation(\n\t\t\t\t\tchangedHistory.location,\n\t\t\t\t\tnormalizedBasepath,\n\t\t\t\t);\n\t\t\t\tprevLocation.set($location);\n\t\t\t\tlocation.set(normalizedLocation);\n\t\t\t});\n\n\t\t\treturn unlisten;\n\t\t});\n\n\t\tsetContext(LOCATION, location);\n\t}\n\n\tsetContext(ROUTER, {\n\t\tactiveRoute,\n\t\tregisterRoute,\n\t\tunregisterRoute,\n\t\tmanageFocus,\n\t\tlevel,\n\t\tid: routerId,\n\t\thistory: isTopLevelRouter ? history : routerContext.history,\n\t\tbasepath: isTopLevelRouter ? normalizedBasepath : routerContext.basepath,\n\t});\n</script>\n\n<div style=\"display:none;\" aria-hidden=\"true\" data-svnav-router={routerId} />\n\n<slot />\n\n{#if isTopLevelRouter && manageFocus && a11yConfig.announcements}\n\t<div\n\t\trole=\"status\"\n\t\taria-atomic=\"true\"\n\t\taria-live=\"polite\"\n\t\tstyle={visuallyHiddenStyle}\n\t>\n\t\t{$announcementText}\n\t</div>\n{/if}\n","import { getContext, onDestroy, tick } from \"svelte\";\nimport { derived, get, writable } from \"svelte/store\";\nimport { LOCATION, ROUTER, ROUTE, ROUTE_PARAMS, FOCUS_ELEM } from \"./contexts\";\nimport { resolveLink, match, normalizeLocation } from \"./routes\";\nimport { isNumber } from \"./utils\";\nimport {\n\tfail,\n\tcreateLabel,\n\tUSE_FOCUS_ID,\n\tROUTER_ID,\n\tUSE_LOCATION_ID,\n\tROUTE_ID,\n\tUSE_RESOLVE_ID,\n\tUSE_RESOLVABLE_ID,\n\tUSE_NAVIGATE_ID,\n\tUSE_MATCH_ID,\n\tUSE_PARAMS_ID,\n} from \"./warning\";\n\n/**\n * Check if a component or hook have been created outside of a\n * context providing component\n * @param {number} componentId\n * @param {*} props\n * @param {string?} ctxKey\n * @param {number?} ctxProviderId\n */\nexport function usePreflightCheck(\n\tcomponentId,\n\tprops,\n\tctxKey = ROUTER,\n\tctxProviderId = ROUTER_ID,\n) {\n\tconst ctx = getContext(ctxKey);\n\tif (!ctx) {\n\t\tfail(\n\t\t\tcomponentId,\n\t\t\tlabel =>\n\t\t\t\t`You cannot use ${label} outside of a ${createLabel(ctxProviderId)}.`,\n\t\t\tprops,\n\t\t);\n\t}\n}\n\nconst toReadonly = ctx => {\n\tconst { subscribe } = getContext(ctx);\n\treturn { subscribe };\n};\n\n/**\n * Access the current location via a readable store.\n * @returns {import(\"svelte/store\").Readable<{\n    pathname: string;\n    search: string;\n    hash: string;\n    state: {};\n  }>}\n *\n * @example\n  ```html\n  <script>\n    import { useLocation } from \"svelte-navigator\";\n\n    const location = useLocation();\n\n    $: console.log($location);\n    // {\n    //   pathname: \"/blog\",\n    //   search: \"?id=123\",\n    //   hash: \"#comments\",\n    //   state: {}\n    // }\n  </script>\n  ```\n */\nexport function useLocation() {\n\tusePreflightCheck(USE_LOCATION_ID);\n\treturn toReadonly(LOCATION);\n}\n\n/**\n * @typedef {{\n    path: string;\n    fullPath: string;\n    uri: string;\n    params: {};\n  }} RouteMatch\n */\n\n/**\n * @typedef {import(\"svelte/store\").Readable<RouteMatch|null>} RouteMatchStore\n */\n\n/**\n * Access the history of top level Router.\n */\nexport function useHistory() {\n\tconst { history } = getContext(ROUTER);\n\treturn history;\n}\n\n/**\n * Access the base of the parent Route.\n */\nexport function useRouteBase() {\n\tconst route = getContext(ROUTE);\n\treturn route ? derived(route, _route => _route.base) : writable(\"/\");\n}\n\n/**\n * Resolve a given link relative to the current `Route` and the `Router`s `basepath`.\n * It is used under the hood in `Link` and `useNavigate`.\n * You can use it to manually resolve links, when using the `link` or `links` actions.\n *\n * @returns {(path: string) => string}\n *\n * @example\n  ```html\n  <script>\n    import { link, useResolve } from \"svelte-navigator\";\n\n    const resolve = useResolve();\n    // `resolvedLink` will be resolved relative to its parent Route\n    // and the Routers `basepath`\n    const resolvedLink = resolve(\"relativePath\");\n  </script>\n\n  <a href={resolvedLink} use:link>Relative link</a>\n  ```\n */\nexport function useResolve() {\n\tusePreflightCheck(USE_RESOLVE_ID);\n\tconst routeBase = useRouteBase();\n\tconst { basepath: appBase } = getContext(ROUTER);\n\t/**\n\t * Resolves the path relative to the current route and basepath.\n\t *\n\t * @param {string} path The path to resolve\n\t * @returns {string} The resolved path\n\t */\n\tconst resolve = path => resolveLink(path, get(routeBase), appBase);\n\treturn resolve;\n}\n\n/**\n * Resolve a given link relative to the current `Route` and the `Router`s `basepath`.\n * It is used under the hood in `Link` and `useNavigate`.\n * You can use it to manually resolve links, when using the `link` or `links` actions.\n *\n * @returns {import(\"svelte/store\").Readable<string>}\n *\n * @example\n  ```html\n  <script>\n    import { link, useResolvable } from \"svelte-navigator\";\n\n    // `resolvedLink` will be resolved relative to its parent Route\n    // and the Routers `basepath`.\n    const resolvedLink = useResolvable(\"relativePath\");\n  </script>\n\n  <a href={$resolvedLink} use:link>Relative link</a>\n  ```\n */\nexport function useResolvable(path) {\n\tusePreflightCheck(USE_RESOLVABLE_ID);\n\tconst routeBase = useRouteBase();\n\tconst { basepath: appBase } = getContext(ROUTER);\n\treturn derived(routeBase, _routeBase =>\n\t\tresolveLink(path, _routeBase, appBase),\n\t);\n}\n\n/**\n * A hook, that returns a context-aware version of `navigate`.\n * It will automatically resolve the given link relative to the current Route.\n * It will also resolve a link against the `basepath` of the Router.\n *\n * @example\n  ```html\n  <!-- App.svelte -->\n  <script>\n    import { link, Route } from \"svelte-navigator\";\n    import RouteComponent from \"./RouteComponent.svelte\";\n  </script>\n\n  <Router>\n    <Route path=\"route1\">\n      <RouteComponent />\n    </Route>\n    <!-- ... -->\n  </Router>\n\n  <!-- RouteComponent.svelte -->\n  <script>\n    import { useNavigate } from \"svelte-navigator\";\n\n    const navigate = useNavigate();\n  </script>\n\n  <button on:click=\"{() => navigate('relativePath')}\">\n    go to /route1/relativePath\n  </button>\n  <button on:click=\"{() => navigate('/absolutePath')}\">\n    go to /absolutePath\n  </button>\n  ```\n  *\n  * @example\n  ```html\n  <!-- App.svelte -->\n  <script>\n    import { link, Route } from \"svelte-navigator\";\n    import RouteComponent from \"./RouteComponent.svelte\";\n  </script>\n\n  <Router basepath=\"/base\">\n    <Route path=\"route1\">\n      <RouteComponent />\n    </Route>\n    <!-- ... -->\n  </Router>\n\n  <!-- RouteComponent.svelte -->\n  <script>\n    import { useNavigate } from \"svelte-navigator\";\n\n    const navigate = useNavigate();\n  </script>\n\n  <button on:click=\"{() => navigate('relativePath')}\">\n    go to /base/route1/relativePath\n  </button>\n  <button on:click=\"{() => navigate('/absolutePath')}\">\n    go to /base/absolutePath\n  </button>\n  ```\n */\nexport function useNavigate() {\n\tusePreflightCheck(USE_NAVIGATE_ID);\n\tconst resolve = useResolve();\n\tconst { navigate } = useHistory();\n\t/**\n\t * Navigate to a new route.\n\t * Resolves the link relative to the current route and basepath.\n\t *\n\t * @param {string|number} to The path to navigate to.\n\t *\n\t * If `to` is a number we will navigate to the stack entry index + `to`\n\t * (-> `navigate(-1)`, is equivalent to hitting the back button of the browser)\n\t * @param {Object} options\n\t * @param {*} [options.state]\n\t * @param {boolean} [options.replace=false]\n\t */\n\tconst navigateRelative = (to, options) => {\n\t\t// If to is a number, we navigate to the target stack entry via `history.go`.\n\t\t// Otherwise resolve the link\n\t\tconst target = isNumber(to) ? to : resolve(to);\n\t\treturn navigate(target, options);\n\t};\n\treturn navigateRelative;\n}\n\n/**\n * Use Svelte Navigators matching without needing to use a Route.\n * Returns a readable store with the potential match,\n * that changes, when the location changes.\n *\n * The provided path will be resolved relatively,\n * as you're used to with all paths in Svelte Navigator\n *\n * @param {string} path The path, to match against.\n * It works just like a Route path\n * @returns {RouteMatchStore} The matched route.\n * Returns `null`, when nothing could be matched\n *\n * @example\n  ```html\n  <script>\n    import { useMatch } from \"svelte-navigator\";\n\n    const relativeMatch = useMatch(\"relative/path/:to/*somewhere\");\n    const absoluteMatch = useMatch(\"/absolute/path/:to/*somewhere\");\n\n    $: console.log($relativeMatch.params.to);\n    $: console.log($absoluteMatch.params.somewhere);\n  </script>\n  ```\n */\nexport function useMatch(path) {\n\tusePreflightCheck(USE_MATCH_ID);\n\tconst location = useLocation();\n\tconst resolve = useResolve();\n\tconst { basepath: appBase } = getContext(ROUTER);\n\tconst resolvedPath = resolve(path);\n\tconst { pathname: fullPath } = normalizeLocation(\n\t\t{ pathname: resolvedPath },\n\t\tappBase,\n\t);\n\treturn derived(location, loc => match({ fullPath, path }, loc.pathname));\n}\n\n/**\n * Access the parent Routes matched params and wildcards\n * @returns {import(\"svelte/store\").Readable<{\n     [param: string]: any;\n   }>} A readable store containing the matched parameters and wildcards\n *\n * @example\n  ```html\n  <!--\n    Somewhere inside <Route path=\"user/:id/*splat\" />\n    with a current url of \"/myApp/user/123/pauls-profile\"\n  -->\n  <script>\n    import { useParams } from \"svelte-navigator\";\n\n    const params = useParams();\n\n    $: console.log($params); // -> { id: \"123\", splat: \"pauls-profile\" }\n  </script>\n\n  <h3>Welcome user {$params.id}! bleep bloop...</h3>\n  ```\n */\nexport function useParams() {\n\tusePreflightCheck(USE_PARAMS_ID, null, ROUTE, ROUTE_ID);\n\treturn toReadonly(ROUTE_PARAMS);\n}\n\n/**\n * Provide a custom element to focus, when the parent route is visited.\n * It returns the `registerFocus` function you can call manually with an\n * Element or use as a Svelte action via the `use` directive.\n *\n * @example\n  ```html\n  <!-- Using `registerFocus` as a Svelte action: -->\n  <!-- Somewhere inside a Route -->\n  <script>\n    import { useFocus } from \"svelte-navigator\";\n\n    const registerFocus = useFocus();\n  </script>\n\n  <h1>Don't worry about me...</h1>\n  <p use:registerFocus>Here, look at me!</p>\n  ```\n  * @example\n  ```html\n  <!-- Calling `registerFocus` manually: -->\n  <!-- Somewhere inside a Route -->\n  <script>\n    import { onMount } from \"svelte\";\n    import { useFocus } from \"svelte-navigator\";\n\n    const registerFocus = useFocus();\n\n    let focusElement;\n\n    onMount(() => registerFocus(focusElement))\n  </script>\n\n  <h1>Don't worry about me...</h1>\n  <p bind:this={focusElement}>Here, look at me!</p>\n  ```\n  * @example\n  ```html\n  <!-- Using `registerFocus` asyncronously: -->\n  <!-- Somewhere inside a Route -->\n  <script>\n    import { onMount } from \"svelte\";\n    import { useFocus } from \"svelte-navigator\";\n\n    const registerFocus = useFocus();\n\n    const lazyImport = import(\"./MyComponent.svelte\").then(module => module.default);\n  </script>\n\n  {#await lazyImport then MyComponent}\n    <MyComponent {registerFocus} />\n  {/await}\n\n  <!-- MyComponent.svelte -->\n  <script>\n    export let registerFocus;\n  </script>\n\n  <h1 use:registerFocus>Hi there!</h1>\n  ```\n */\nexport function useFocus() {\n\tusePreflightCheck(USE_FOCUS_ID, null, ROUTE, ROUTE_ID);\n\tconst location = useLocation();\n\tconst focusElement = getContext(FOCUS_ELEM);\n\n\tlet resolve;\n\tconst unsubscribe = location.subscribe(() => {\n\t\tconst lazyElement = new Promise(_resolve => {\n\t\t\tresolve = _resolve;\n\t\t});\n\t\tfocusElement.set(lazyElement);\n\t});\n\n\tonDestroy(unsubscribe);\n\n\treturn node => {\n\t\tlet unmounted = false;\n\t\tconst innerUnsubscribe = location.subscribe(() => {\n\t\t\ttick().then(() => {\n\t\t\t\tif (!unmounted) {\n\t\t\t\t\tresolve(node);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tunmounted = true;\n\t\t\t\tinnerUnsubscribe();\n\t\t\t},\n\t\t};\n\t};\n}\n","<script context=\"module\">\n\t// eslint-disable-next-line import/order\n\timport { createCounter } from \"./utils\";\n\n\tconst createId = createCounter();\n</script>\n\n<script>\n\t/*\n\t * Adapted from https://github.com/EmilTholin/svelte-routing\n\t *\n\t * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n\t */\n\n\timport { getContext, onDestroy, setContext } from \"svelte\";\n\timport { writable, get } from \"svelte/store\";\n\timport Router from \"./Router.svelte\";\n\timport { ROUTER, ROUTE, ROUTE_PARAMS, FOCUS_ELEM } from \"./contexts\";\n\timport {\n\t\tuseLocation,\n\t\tuseNavigate,\n\t\tuseRouteBase,\n\t\tusePreflightCheck,\n\t} from \"./hooks\";\n\timport { isSSR } from \"./utils\";\n\timport { extractBaseUri } from \"./routes\";\n\timport { join } from \"./paths\";\n\timport { ROUTE_ID } from \"./warning\";\n\n\texport let path = \"\";\n\texport let component = null;\n\texport let meta = {};\n\texport let primary = true;\n\n\tusePreflightCheck(ROUTE_ID, $$props);\n\n\tconst id = createId();\n\n\tconst { registerRoute, unregisterRoute, activeRoute } = getContext(ROUTER);\n\tconst parentBase = useRouteBase();\n\tconst location = useLocation();\n\tconst focusElement = writable(null);\n\n\t// In SSR we cannot wait for $activeRoute to update,\n\t// so we use the match returned from `registerRoute` instead\n\tlet ssrMatch;\n\n\tconst route = writable();\n\t$: {\n\t\t// The route store will be re-computed whenever props, location or parentBase change\n\t\tconst isDefault = path === \"\";\n\t\tconst rawBase = join($parentBase, path);\n\t\tconst updatedRoute = {\n\t\t\tid,\n\t\t\tpath,\n\t\t\tmeta,\n\t\t\t// If no path prop is given, this Route will act as the default Route\n\t\t\t// that is rendered if no other Route in the Router is a match\n\t\t\tdefault: isDefault,\n\t\t\tfullPath: isDefault ? \"\" : rawBase,\n\t\t\tbase: isDefault\n\t\t\t\t? $parentBase\n\t\t\t\t: extractBaseUri(rawBase, $location.pathname),\n\t\t\tprimary,\n\t\t\tfocusElement,\n\t\t};\n\t\troute.set(updatedRoute);\n\t\t// If we're in SSR mode and the Route matches,\n\t\t// `registerRoute` will return the match\n\t\tssrMatch = registerRoute(updatedRoute);\n\t}\n\n\t$: isActive = !!(ssrMatch || ($activeRoute && $activeRoute.id === id));\n\n\tconst params = writable({});\n\t$: if (isActive) {\n\t\tconst { params: activeParams } = ssrMatch || $activeRoute;\n\t\tparams.set(activeParams);\n\t}\n\n\tsetContext(ROUTE, route);\n\tsetContext(ROUTE_PARAMS, params);\n\tsetContext(FOCUS_ELEM, focusElement);\n\n\t// We need to call useNavigate after the route is set,\n\t// so we can use the routes path for link resolution\n\tconst navigate = useNavigate();\n\n\t// There is no need to unregister Routes in SSR since it will all be\n\t// thrown away anyway\n\tif (!isSSR) {\n\t\tonDestroy(() => unregisterRoute(id));\n\t}\n</script>\n\n<div style=\"display:none;\" aria-hidden=\"true\" data-svnav-route-start={id} />\n{#if isActive}\n\t<Router {primary}>\n\t\t<!--\n      `$params` always returns `{}` in SSR in Route, because it will\n      update after component initialisation has already happend.\n      `get(params)` always works, but is not reactive, so we can't\n      use it in client rendered mode\n    -->\n\t\t{#if component !== null}\n\t\t\t<svelte:component\n\t\t\t\tthis={component}\n\t\t\t\tlocation={$location}\n\t\t\t\t{navigate}\n\t\t\t\t{...isSSR ? get(params) : $params}\n\t\t\t\t{...$$restProps}\n\t\t\t/>\n\t\t{:else}\n\t\t\t<slot\n\t\t\t\tparams={isSSR ? get(params) : $params}\n\t\t\t\tlocation={$location}\n\t\t\t\t{navigate}\n\t\t\t/>\n\t\t{/if}\n\t</Router>\n{/if}\n<div style=\"display:none;\" aria-hidden=\"true\" data-svnav-route-end={id} />\n","<script>\n\t/*\n\t * Adapted from https://github.com/EmilTholin/svelte-routing\n\t *\n\t * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n\t */\n\n\timport { createEventDispatcher } from \"svelte\";\n\timport {\n\t\tuseLocation,\n\t\tuseResolve,\n\t\tuseHistory,\n\t\tusePreflightCheck,\n\t} from \"./hooks\";\n\timport { shouldNavigate, isFunction } from \"./utils\";\n\timport { startsWith } from \"./paths\";\n\timport { LINK_ID } from \"./warning\";\n\n\texport let to;\n\texport let replace = false;\n\texport let state = {};\n\texport let getProps = null;\n\n\tusePreflightCheck(LINK_ID, $$props);\n\n\tconst location = useLocation();\n\tconst dispatch = createEventDispatcher();\n\tconst resolve = useResolve();\n\tconst { navigate } = useHistory();\n\n\t// We need to pass location here to force re-resolution of the link,\n\t// when the pathname changes. Otherwise we could end up with stale path params,\n\t// when for example an :id changes in the parent Routes path\n\t$: href = resolve(to, $location);\n\t$: isPartiallyCurrent = startsWith($location.pathname, href);\n\t$: isCurrent = href === $location.pathname;\n\t$: ariaCurrent = isCurrent ? { \"aria-current\": \"page\" } : {};\n\t$: props = (() => {\n\t\tif (isFunction(getProps)) {\n\t\t\tconst dynamicProps = getProps({\n\t\t\t\tlocation: $location,\n\t\t\t\thref,\n\t\t\t\tisPartiallyCurrent,\n\t\t\t\tisCurrent,\n\t\t\t});\n\t\t\treturn { ...$$restProps, ...dynamicProps };\n\t\t}\n\t\treturn $$restProps;\n\t})();\n\n\tfunction onClick(event) {\n\t\tdispatch(\"click\", event);\n\n\t\tif (shouldNavigate(event)) {\n\t\t\tevent.preventDefault();\n\t\t\t// Don't push another entry to the history stack when the user\n\t\t\t// clicks on a Link to the page they are currently on.\n\t\t\tconst shouldReplace = isCurrent || replace;\n\t\t\tnavigate(href, { state, replace: shouldReplace });\n\t\t}\n\t}\n</script>\n\n<a {href} {...ariaCurrent} on:click={onClick} {...props}>\n\t<slot />\n</a>\n","import { writable, get } from 'svelte/store';\n\nfunction notificationsStore(initialValue = []) {\n  const store = writable(initialValue);\n  const { set, update, subscribe } = store;\n  let defaultOptions = {\n    duration: 3000,\n    placement: 'bottom-right',\n    type: 'info',\n    theme: 'dark',\n  };\n  function add(options) {\n    const {\n      duration = 3000,\n      placement = 'bottom-right',\n      type = 'info',\n      theme = 'dark',\n      ...rest\n    } = { ...defaultOptions, ...options };\n\n    const uid = Date.now();\n    const obj = {\n      ...rest,\n      uid,\n      placement,\n      type,\n      theme,\n      duration,\n      remove: () => {\n        update((v) => v.filter((i) => i.uid !== uid));\n      },\n      update: (data) => {\n        delete data.uid;\n        const index = get(store)?.findIndex((v) => v?.uid === uid);\n        if (index > -1) {\n          update((v) => [\n            ...v.slice(0, index),\n            { ...v[index], ...data },\n            ...v.slice(index + 1),\n          ]);\n        }\n      },\n    };\n    update((v) => [...v, obj]);\n    if (duration > 0) {\n      setTimeout(() => {\n        obj.remove();\n        if (typeof obj.onRemove === 'function') obj.onRemove();\n      }, duration);\n    }\n    return obj;\n  }\n\n  function getById(uid) {\n    return get(store)?.find((v) => v?.uid === uid);\n  }\n\n  function clearAll() {\n    set([]);\n  }\n  function clearLast() {\n    update((v) => {\n      return v.slice(0, v.length - 1);\n    });\n  }\n\n  function setDefaults(options) {\n    defaultOptions = { ...defaultOptions, ...options };\n  }\n\n  return {\n    subscribe,\n    add,\n    success: getHelper('success', add),\n    info: getHelper('info', add),\n    error: getHelper('error', add),\n    warning: getHelper('warning', add),\n    clearAll,\n    clearLast,\n    getById,\n    setDefaults,\n  };\n}\nconst toasts = notificationsStore([]);\nexport default toasts;\n\nfunction getHelper(type, add) {\n  return function () {\n    if (typeof arguments[0] === 'object') {\n      const options = arguments[0];\n      return add({ ...options, type });\n    } else if (\n      typeof arguments[0] === 'string' &&\n      typeof arguments[1] === 'string'\n    ) {\n      const options = arguments[2] || {};\n      return add({\n        ...options,\n        type,\n        title: arguments[0],\n        description: arguments[1],\n      });\n    } else if (typeof arguments[0] === 'string') {\n      const options = arguments[1] || {};\n      return add({\n        ...options,\n        type,\n        description: arguments[0],\n      });\n    }\n  };\n}\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","import { cubicOut } from '../easing/index.mjs';\nimport { is_function } from '../internal/index.mjs';\n\nfunction flip(node, { from, to }, params = {}) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n    const dx = (from.left + from.width * ox / to.width) - (to.left + ox);\n    const dy = (from.top + from.height * oy / to.height) - (to.top + oy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n        easing,\n        css: (t, u) => {\n            const x = u * dx;\n            const y = u * dy;\n            const sx = t + u * from.width / to.width;\n            const sy = t + u * from.height / to.height;\n            return `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n        }\n    };\n}\n\nexport { flip };\n","<script>\n  import { fly, fade } from 'svelte/transition';\n  import { onMount } from 'svelte';\n  import { flip } from 'svelte/animate';\n  import toasts from './toasts';\n\n  /**\n   * @typedef {'success' | 'info' | 'error' | 'warning'} ToastType\n   * @typedef {'bottom-right' | 'bottom-left' | 'top-right' | 'top-left' | 'top-center' | 'bottom-center' | 'center-center'} Placement\n   * @typedef {{\n      uid: number;\n      title?: string;\n      description: string;\n      duration: number;\n      type: ToastType;\n      theme?: Theme;\n      placement: Placement;\n      showProgress?: boolean;\n      remove?: Function;\n      update?: Function;\n      onRemove?: Function;\n      onClick?: Function;\n    }} ToastProps\n   */\n\n  /**\n   * Default theme for all toasts\n   * @type { Theme }\n   */\n  export let theme = 'dark';\n\n  /**\n   * Default placement for all toasts\n   * @type { Placement }\n   */\n  export let placement = 'bottom-right';\n\n  /**\n   * Default type of all toasts\n   * @type { ToastType }\n   */\n  export let type = 'info';\n\n  /**\n   * Show progress if showProgress is true and duration is greater then 0\n   * @type { boolean }\n   */\n  export let showProgress = false;\n  /**\n   * Default duration for all toasts to auto close. 0 to disable auto close\n   * @type { number }\n   */\n  export let duration = 3000;\n  /**\n   * Width of all toasts\n   * @type { string }\n   */\n  export let width = '320px';\n\n  /**\n   * Default slot which is Toast component/template which will get toast data\n   * @slot {{ data: ToastProps }}\n   */\n\n  const placements = [\n    'bottom-right',\n    'bottom-left',\n    'top-right',\n    'top-left',\n    'top-center',\n    'bottom-center',\n    'center-center',\n  ];\n  const flyMap = {\n    'bottom-right': 400,\n    'top-right': -400,\n    'bottom-left': 400,\n    'top-left': -400,\n    'bottom-center': 400,\n    'top-center': -400,\n    'center-center': -800,\n  };\n  onMount(() => {\n    toasts.setDefaults({\n      placement,\n      showProgress,\n      theme,\n      duration,\n      type,\n    });\n  });\n</script>\n\n{#each placements as placement}\n  <div class=\"toast-container {placement}\" style=\"width: {width}\">\n    <ul>\n      {#each $toasts\n        .filter((n) => n.placement === placement)\n        .reverse() as toast (toast.uid)}\n        <li\n          animate:flip\n          out:fly={{ y: flyMap[toast.placement], duration: 1000 }}\n          in:fade={{ duration: 500 }}\n        >\n          {#if toast.component}\n            <svelte:component this={toast.component} data={toast} />\n          {:else}\n            <slot data={toast} />\n          {/if}\n        </li>\n      {/each}\n    </ul>\n  </div>\n{/each}\n\n<style>\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  li {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n  .toast-container {\n    z-index: 9999;\n    position: fixed;\n    padding: 4px;\n    box-sizing: border-box;\n    color: #fff;\n    width: max-content;\n    max-width: 100%;\n    pointer-events: none;\n  }\n  .toast-container.bottom-right {\n    bottom: 1em;\n    right: 1em;\n  }\n  .toast-container.bottom-left {\n    bottom: 1em;\n    left: 1em;\n  }\n  .toast-container.top-left {\n    top: 1em;\n    left: 1em;\n  }\n  .toast-container.top-right {\n    top: 1em;\n    right: 1em;\n  }\n  .toast-container.top-center {\n    top: 1em;\n    right: 50%;\n    left: 50%;\n    transform: translate(-50%, 0);\n  }\n  .toast-container.bottom-center {\n    bottom: 1em;\n    right: 50%;\n    left: 50%;\n    transform: translate(-50%, 0);\n  }\n  .toast-container.center-center {\n    top: 50%;\n    right: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n  .toast-container > :not(:last-child) {\n    margin-bottom: 10px;\n  }\n</style>\n","import { writable } from '../store/index.mjs';\nimport { now, loop, assign } from '../internal/index.mjs';\nimport { linear } from '../easing/index.mjs';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value) {\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        }\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled) {\n                    task = null;\n                }\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        if (duration === 0) {\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","<script>\n  import { onMount } from 'svelte';\n  import { tweened } from 'svelte/motion';\n  import { linear } from 'svelte/easing';\n\n  /**\n   * Default theme for all toasts\n   * @type { Theme }\n   */\n  export let theme = 'light';\n\n  /**\n   * Default theme for all toasts\n   * @type { ToastProps }\n   */\n  export let data = {};\n\n  const progress = tweened(1, {\n    duration: data.duration,\n    easing: linear,\n  });\n\n  onMount(() => {\n    progress.set(0, { duration: data.duration });\n  });\n\n  const onRemove = (e) => {\n    e.stopPropagation();\n    data.remove();\n    if (typeof data.onRemove === 'function') data.onRemove();\n  };\n  const onClick = () => {\n    if (typeof data.onClick === 'function') data.onClick();\n  };\n</script>\n\n<div\n  class=\"st-toast flat {data.theme || theme} {data.type || 'info'}\"\n  on:click={onClick}\n  role=\"alert\"\n  aria-live=\"assertive\"\n  aria-atomic=\"true\"\n>\n  <slot name=\"icon\">\n    {#if data.type === 'success'}\n      <svg\n        class=\"st-toast-icon\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        aria-hidden=\"true\"\n      >\n        <path\n          d=\"M10,1c-4.9,0-9,4.1-9,9s4.1,9,9,9s9-4,9-9S15,1,10,1z M8.7,13.5l-3.2-3.2l1-1l2.2,2.2l4.8-4.8l1,1L8.7,13.5z\"\n        />\n        <path\n          fill=\"none\"\n          d=\"M8.7,13.5l-3.2-3.2l1-1l2.2,2.2l4.8-4.8l1,1L8.7,13.5z\"\n          data-icon-path=\"inner-path\"\n          opacity=\"0\"\n        />\n      </svg>\n    {:else if data.type === 'info'}\n      <svg\n        class=\"st-toast-icon\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 32 32\"\n        aria-hidden=\"true\"\n        ><path\n          d=\"M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,7Zm4,17.12H12V21.88h2.88V15.12H13V12.88h4.13v9H20Z\"\n        /></svg\n      >\n    {:else if data.type === 'error'}\n      <svg\n        class=\"st-toast-icon\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        aria-hidden=\"true\"\n        ><path\n          d=\"M10,1c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S15,1,10,1z M13.5,14.5l-8-8l1-1l8,8L13.5,14.5z\"\n        /><path\n          d=\"M13.5,14.5l-8-8l1-1l8,8L13.5,14.5z\"\n          data-icon-path=\"inner-path\"\n          opacity=\"0\"\n        /></svg\n      >\n    {:else}\n      <svg\n        class=\"st-toast-icon\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        aria-hidden=\"true\"\n        ><path\n          d=\"M10,1c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S15,1,10,1z M9.2,5h1.5v7H9.2V5z M10,16c-0.6,0-1-0.4-1-1s0.4-1,1-1\ts1,0.4,1,1S10.6,16,10,16z\"\n        /><path\n          d=\"M9.2,5h1.5v7H9.2V5z M10,16c-0.6,0-1-0.4-1-1s0.4-1,1-1s1,0.4,1,1S10.6,16,10,16z\"\n          data-icon-path=\"inner-path\"\n          opacity=\"0\"\n        /></svg\n      >\n    {/if}\n  </slot>\n\n  <div class=\"st-toast-details\">\n    {#if data.title}\n      <h3 class=\"st-toast-title\">{data.title}</h3>\n    {/if}\n\n    <p class=\"st-toast-description\">{data.description}</p>\n    <div class=\"st-toast-extra\">\n      <slot name=\"extra\" />\n    </div>\n  </div>\n  <button\n    class=\"st-toast-close-btn\"\n    type=\"button\"\n    aria-label=\"close\"\n    on:click={onRemove}\n  >\n    <slot name=\"close-icon\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"bx--toast-notification__close-icon\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 32 32\"\n        aria-hidden=\"true\"\n      >\n        <path\n          d=\"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z\"\n        />\n      </svg>\n    </slot>\n  </button>\n  {#if data.showProgress}\n    <progress\n      style=\"height: {data.duration > 0 ? '4px' : 0}\"\n      value={$progress}\n    />\n  {/if}\n</div>\n\n<style>\n  .st-toast {\n    display: flex;\n    pointer-events: auto;\n    width: 320px;\n    height: auto;\n    padding-left: 0.875rem;\n    color: #fff;\n    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n    position: relative;\n    cursor: pointer;\n  }\n  .st-toast .st-toast-icon {\n    flex-shrink: 0;\n    margin-right: 0.875rem;\n    margin-top: 0.875rem;\n  }\n  .st-toast progress[value] {\n    appearance: none;\n    display: block;\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n  }\n  .st-toast.dark {\n    color: #fff;\n    background: #393939;\n  }\n  .st-toast.dark progress[value]::-webkit-progress-bar {\n    background-color: #393939;\n  }\n  .st-toast.dark .st-toast-close-btn svg {\n    fill: #fff;\n  }\n  .st-toast.dark .st-toast-close-btn:focus {\n    border: solid 1px #fff;\n  }\n  .st-toast.dark.success {\n    border-left: 3px solid rgb(22, 163, 74);\n  }\n  .st-toast.dark.success .st-toast-icon {\n    fill: rgb(22, 163, 74);\n    color: #fff;\n  }\n  .st-toast.dark.success progress[value]::-webkit-progress-value {\n    background-color: rgb(22, 163, 74);\n  }\n  .st-toast.dark.info {\n    border-left: 3px solid rgb(2, 132, 199);\n  }\n  .st-toast.dark.info .st-toast-icon {\n    fill: rgb(2, 132, 199);\n    color: #fff;\n  }\n  .st-toast.dark.info progress[value]::-webkit-progress-value {\n    background-color: rgb(2, 132, 199);\n  }\n  .st-toast.dark.error {\n    border-left: 3px solid rgb(225, 29, 72);\n  }\n  .st-toast.dark.error .st-toast-icon {\n    fill: rgb(225, 29, 72);\n    color: #fff;\n  }\n  .st-toast.dark.error progress[value]::-webkit-progress-value {\n    background-color: rgb(225, 29, 72);\n  }\n  .st-toast.dark.warning {\n    border-left: 3px solid rgb(202, 138, 4);\n  }\n  .st-toast.dark.warning .st-toast-icon {\n    fill: rgb(202, 138, 4);\n    color: #fff;\n  }\n  .st-toast.dark.warning progress[value]::-webkit-progress-value {\n    background-color: rgb(202, 138, 4);\n  }\n  .st-toast.light {\n    color: #161616;\n    fill: #161616;\n  }\n  .st-toast.light.success {\n    border-left: 3px solid rgb(22, 163, 74);\n    background: rgba(22, 163, 74, 0.2);\n  }\n  .st-toast.light.success progress {\n    background: rgba(22, 163, 74, 0.2);\n  }\n  .st-toast.light.success progress[value]::-webkit-progress-bar {\n    background-color: transparent;\n  }\n  .st-toast.light.success progress[value]::-webkit-progress-value {\n    background-color: rgb(22, 163, 74);\n  }\n  .st-toast.light.success .st-toast-icon {\n    fill: rgb(22, 163, 74);\n  }\n  .st-toast.light.success .st-toast-close-btn:focus {\n    border: solid 1px rgb(22, 163, 74);\n  }\n  .st-toast.light.success::before {\n    border-color: rgb(22, 163, 74);\n    content: '';\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    filter: opacity(0.4);\n    border-style: solid;\n    border-width: 1px 1px 1px 0;\n  }\n  .st-toast.light.info {\n    border-left: 3px solid rgb(2, 132, 199);\n    background: rgba(2, 132, 199, 0.2);\n  }\n  .st-toast.light.info progress {\n    background: rgba(2, 132, 199, 0.2);\n  }\n  .st-toast.light.info progress[value]::-webkit-progress-bar {\n    background-color: transparent;\n  }\n  .st-toast.light.info progress[value]::-webkit-progress-value {\n    background-color: rgb(2, 132, 199);\n  }\n  .st-toast.light.info .st-toast-icon {\n    fill: rgb(2, 132, 199);\n  }\n  .st-toast.light.info .st-toast-close-btn:focus {\n    border: solid 1px rgb(2, 132, 199);\n  }\n  .st-toast.light.info::before {\n    border-color: rgb(2, 132, 199);\n    content: '';\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    filter: opacity(0.4);\n    border-style: solid;\n    border-width: 1px 1px 1px 0;\n  }\n  .st-toast.light.error {\n    border-left: 3px solid rgb(225, 29, 72);\n    background: rgba(225, 29, 72, 0.2);\n  }\n  .st-toast.light.error progress {\n    background: rgba(225, 29, 72, 0.2);\n  }\n  .st-toast.light.error progress[value]::-webkit-progress-bar {\n    background-color: transparent;\n  }\n  .st-toast.light.error progress[value]::-webkit-progress-value {\n    background-color: rgb(225, 29, 72);\n  }\n  .st-toast.light.error .st-toast-icon {\n    fill: rgb(225, 29, 72);\n  }\n  .st-toast.light.error .st-toast-close-btn:focus {\n    border: solid 1px rgb(225, 29, 72);\n  }\n  .st-toast.light.error::before {\n    border-color: rgb(225, 29, 72);\n    content: '';\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    filter: opacity(0.4);\n    border-style: solid;\n    border-width: 1px 1px 1px 0;\n  }\n  .st-toast.light.warning {\n    border-left: 3px solid rgb(202, 138, 4);\n    background: rgba(202, 138, 4, 0.2);\n  }\n  .st-toast.light.warning progress {\n    background: rgba(202, 138, 4, 0.2);\n  }\n  .st-toast.light.warning progress[value]::-webkit-progress-bar {\n    background-color: transparent;\n  }\n  .st-toast.light.warning progress[value]::-webkit-progress-value {\n    background-color: rgb(202, 138, 4);\n  }\n  .st-toast.light.warning .st-toast-icon {\n    fill: rgb(202, 138, 4);\n  }\n  .st-toast.light.warning .st-toast-close-btn:focus {\n    border: solid 1px rgb(202, 138, 4);\n  }\n  .st-toast.light.warning::before {\n    border-color: rgb(202, 138, 4);\n    content: '';\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    filter: opacity(0.4);\n    border-style: solid;\n    border-width: 1px 1px 1px 0;\n  }\n  .st-toast-details {\n    margin-top: 0.875rem;\n    margin-right: 1rem;\n    text-align: left;\n    align-self: flex-start;\n  }\n  .st-toast-details .st-toast-title {\n    font-size: 0.875rem;\n    font-weight: 600;\n    line-height: 1.125rem;\n    letter-spacing: 0.16px;\n    font-weight: 600;\n    word-break: break-word;\n    margin: 0;\n    outline: none;\n  }\n  .st-toast-details .st-toast-description {\n    font-size: 0.875rem;\n    font-weight: 400;\n    line-height: 1.125rem;\n    letter-spacing: 0.16px;\n    margin-top: 0;\n    margin-bottom: 1rem;\n    word-break: break-word;\n  }\n  .st-toast-close-btn {\n    outline: 2px solid transparent;\n    outline-offset: -2px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n    margin-left: auto;\n    padding: 0;\n    height: 3rem;\n    width: 3rem;\n    min-height: 3rem;\n    min-width: 3rem;\n    transition: outline 110ms, background-color 110ms;\n  }\n</style>\n","import { writable } from \"svelte/store\";\r\n\r\nexport const responseData = writable(null);\r\n\r\nexport const isLoggedIn = writable(false);\r\nexport const isAdmin = writable(false);\r\n\r\nconst storedUserData = localStorage.getItem(\"userData\");\r\nconst setUserData = storedUserData === null ? null : JSON.parse(storedUserData);\r\nexport const userData = writable(setUserData);\r\nuserData.subscribe((value) => {\r\n  localStorage.setItem(\"userData\", JSON.stringify(value));\r\n});\r\n\r\nconst storedClasses = localStorage.getItem(\"classes\");\r\nconst setClasses = storedClasses  ? JSON.parse(storedClasses) : [];\r\nexport const classes = writable(setClasses);\r\nclasses.subscribe((value) => {\r\n  localStorage.setItem(\"classes\", JSON.stringify(value));\r\n});\r\n\r\nconst storedCurrentClass = localStorage.getItem(\"currentClass\");\r\nconst setCurrentClass = storedCurrentClass === null ? null : JSON.parse(storedCurrentClass);\r\nexport const currentClass = writable(setCurrentClass);\r\ncurrentClass.subscribe((value) => {\r\n  localStorage.setItem(\"currentClass\", JSON.stringify(value));\r\n});\r\n\r\nexport const posts = writable([]);\r\n\r\nexport const students = writable([]);\r\n\r\nexport const storedSocket = writable(null);\r\n","<script>\r\n  import { isLoggedIn, responseData, isAdmin } from \"../../store/store\";\r\n  import { useNavigate, useLocation } from \"svelte-navigator\";\r\n  import { toasts } from \"svelte-toasts\";\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  async function handleLogin() {\r\n    const username = document.getElementById(\"username\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n\r\n\r\n    if (username === \"\" || password === \"\") {\r\n      toasts.error(\"Udfyld venligst både brugernavn og password\");\r\n      return;\r\n    }\r\n\r\n    const data = { username: username, password: password };\r\n\r\n    try {\r\n    await fetch(\"MYURL/api/auth\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        isLoggedIn.set(data.isLoggedIn);\r\n        isAdmin.set(data.isAdmin);\r\n        responseData.set(data);\r\n      });\r\n\r\n    if ($isLoggedIn) {\r\n      toasts.success(\"Du er nu logget ind\");\r\n      navigate(\"/\", {\r\n        state: { from: $location.pathname },\r\n        replace: true,\r\n      });\r\n    } else {\r\n      toasts.error($responseData.message);\r\n    }\r\n  } catch (e) {\r\n    toasts.error(\"For mange login forsøg, prøv igen senere\")\r\n  }\r\n}\r\n\r\n  const onKeyPress = (e) => {\r\n    if (e.charCode === 13) {\r\n      handleLogin();\r\n    }\r\n  };\r\n</script>\r\n\r\n<div class=\"welcome-container\">\r\n  <div class=\"content\">\r\n    <div class=\"heading-container\">\r\n      <h1 class=\"logo\">PrettyIntra</h1>\r\n      <p class=\"catchphrase\">Bedste skoleintra i landet.</p>\r\n    </div>\r\n\r\n    <div class=\"login-container\">\r\n      <h2 class=\"form-heading\">Log ind</h2>\r\n      <input\r\n        type=\"text\"\r\n        class=\"username\"\r\n        id=\"username\"\r\n        placeholder=\"Brugernavn\"\r\n        required\r\n        on:keypress={onKeyPress}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"password\"\r\n        id=\"password\"\r\n        placeholder=\"Adgangskode\"\r\n        on:keypress={onKeyPress}\r\n      />\r\n      <button on:click={handleLogin} class=\"login-btn\">Log ind</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .welcome-container {\r\n    background: #f2f4f7;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .heading-container {\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media (max-width: 1374px) {\r\n    .heading-container {\r\n      padding-bottom: 50px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    width: 50%;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .form-heading {\r\n    font-size: 1.5em;\r\n    font-weight: bold;\r\n    margin-bottom: 1em;\r\n    font-family: var(--primary-font);\r\n    color: var(--color-blue-secondary);\r\n  }\r\n\r\n  .logo {\r\n    color: var(--color-blue-main);\r\n    font-family: var(--primary-font);\r\n    font-size: 4em;\r\n  }\r\n\r\n  .catchphrase {\r\n    font-family: var(--primary-font);\r\n    font-weight: 200;\r\n    font-size: 1.2em;\r\n  }\r\n\r\n  .login-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 350px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n  }\r\n\r\n  input {\r\n    outline: none;\r\n    padding: 0.8rem 1rem;\r\n    margin-bottom: 0.8rem;\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  input:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  .login-btn {\r\n    outline: none;\r\n    border: none;\r\n    background: var(--color-blue-main);\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 0.4rem;\r\n    font-size: 1.1rem;\r\n    color: #fff;\r\n  }\r\n\r\n  .login-btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n","<script>\r\n  import { isAdmin, userData, posts, currentClass } from \"../store/store\";\r\n  import { toasts } from \"svelte-toasts\";\r\n\r\n  export let title;\r\n  export let content;\r\n  export let creator;\r\n  export let timestamp;\r\n  export let postId;\r\n\r\n  async function getPosts() {\r\n    const resp = await fetch(\"MYURL/api/posts/\" + $currentClass.classId, {\r\n      credentials: \"include\",\r\n    });\r\n    \r\n    const respData = await resp.json();\r\n\r\n    posts.set(respData.data);\r\n  }\r\n\r\n  async function handleDeletePost() {\r\n    await fetch(\"MYURL/api/posts/\" + postId, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((responseData) => {\r\n        if (responseData.success) {\r\n          toasts.success(\"Opslag slettet\");\r\n          getPosts();\r\n        } else {\r\n          toasts.error(\"En fejl opstod\");\r\n        }\r\n      });\r\n  }\r\n</script>\r\n\r\n<div class=\"post-container\">\r\n  <h3 id=\"title\">{title}</h3>\r\n  <h4 id=\"creator\">{creator}</h4>\r\n\r\n  <p id=\"content\">{content}</p>\r\n  <p id=\"timestamp\">{timestamp}</p>\r\n  {#if $isAdmin || $userData.firstName + \" \" + $userData.lastName === creator}\r\n    <button on:click={handleDeletePost} id=\"delete-post-btn\"\r\n      ><svg\r\n        id=\"trash-icon\"\r\n        data-name=\"Layer 1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 128 128\"\r\n        ><defs\r\n          ><style>\r\n            .cls-1 {\r\n              fill: #2e79bd;\r\n            }\r\n            .cls-2 {\r\n              fill: #2d3e50;\r\n            }\r\n          </style></defs\r\n        ><title>x</title><path\r\n          class=\"\"\r\n          d=\"M17.66229,21.88486,63.3847,30.82574l45.72241,8.94088a1.559,1.559,0,0,0,1.82788-1.22994A10.15176,10.15176,0,0,0,102.9192,26.6239l-15.172-2.96684.79656-4.07352A11.10952,11.10952,0,0,0,79.7827,6.56318L57.33412,2.17343A11.1096,11.1096,0,0,0,44.31375,10.9345L43.51718,15.008l-15.172-2.96685A10.15176,10.15176,0,0,0,16.43235,20.057a1.559,1.559,0,0,0,1.22994,1.82788ZM60.0674,9.82374,74.369,12.62036a8.2641,8.2641,0,0,1,6.5245,9.69647h0l-15.2613-2.9843L50.37093,16.34825h0A8.2641,8.2641,0,0,1,60.0674,9.82374Z\"\r\n          id=\"id_101\"\r\n          fill=\"#4d709c\"\r\n        /><path\r\n          class=\"\"\r\n          d=\"M110.58839,47.36161H17.41161a1.559,1.559,0,0,0-1.55785,1.55785v5.90918c0,.85949,16.14275,61.05238,16.14275,61.05238a11.08149,11.08149,0,0,0,11.03938,10.153H84.96412A11.08149,11.08149,0,0,0,96.0035,115.881s16.14275-60.19289,16.14275-61.05238V48.91946A1.559,1.559,0,0,0,110.58839,47.36161Zm-61.934,64.2194a2.60793,2.60793,0,0,1-3.19666-1.84821c-4.44239-16.61345-8.95983-33.53068-11.91535-44.72956a2.61069,2.61069,0,1,1,5.04851-1.33243c2.95407,11.19159,7.47077,28.10409,11.911,44.71353A2.61043,2.61043,0,0,1,48.65435,111.581Zm17.95316-2.52243a2.61095,2.61095,0,0,1-5.22189,0V64.337a2.61095,2.61095,0,0,1,5.22189,0ZM94.45735,65.00325C91.3685,76.70879,86.46715,95.05644,82.542,109.73317a2.61073,2.61073,0,1,1-5.04414-1.34918c3.9237-14.67272,8.8236-33.01491,11.911-44.71316a2.61069,2.61069,0,1,1,5.04851,1.33243Z\"\r\n          id=\"id_102\"\r\n          fill=\"#4d709c\"\r\n        /></svg\r\n      ></button\r\n    >\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  #trash-icon {\r\n    width: 20px;\r\n  }\r\n\r\n  #delete-post-btn {\r\n    height: 20px;\r\n    background: transparent;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .post-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-flow: row wrap;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 25px 0;\r\n  }\r\n\r\n  #title {\r\n    margin-bottom: 1em;\r\n    width: 50%;\r\n  }\r\n\r\n  #content {\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  #creator {\r\n    width: 50%;\r\n    text-align: end;\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  #creator,\r\n  #timestamp {\r\n    opacity: 0.5;\r\n  }\r\n\r\n  #timestamp {\r\n    width: 100%;\r\n    text-align: end;\r\n    margin-top: 1em;\r\n    font-size: 0.6em;\r\n  }\r\n</style>\r\n","<script>\r\n  export let firstName;\r\n  export let lastName;\r\n  export let studentNumber;\r\n  export let className;\r\n  export let email;\r\n  export let phone;\r\n  export let address;\r\n  export let showGrades;\r\n  export let dansk;\r\n  export let engelsk;\r\n  export let historie;\r\n  export let matematik;\r\n  export let geografi;\r\n  export let small;\r\n\r\n  let overview = small;\r\n\r\n  //remove null values\r\n  if (dansk == null) {\r\n    dansk = \"\";\r\n  }\r\n  if (engelsk == null) {\r\n    engelsk = \"\";\r\n  }\r\n  if (historie == null) {\r\n    historie = \"\";\r\n  }\r\n  if (matematik == null) {\r\n    matematik = \"\";\r\n  }\r\n  if (geografi == null) {\r\n    geografi = \"\";\r\n  }\r\n\r\n  function handleInspectStudent() {\r\n    if (overview) {\r\n      small = false;\r\n    }\r\n  }\r\n\r\n  function handleStopInspectStudent() {\r\n    if (overview) {\r\n      small = true;\r\n    }\r\n  }\r\n</script>\r\n\r\n{#if small}\r\n  <div on:click={handleInspectStudent} class=\"card-container-small\">\r\n    <p class=\"name\">{firstName + \" \" + lastName}</p>\r\n    <p class=\"class\">{className}</p>\r\n  </div>\r\n{:else}\r\n  <div\r\n    id=\"card-lg\"\r\n    class=\"card-container\"\r\n    on:click={handleStopInspectStudent}\r\n    class:inspect={overview === true}\r\n  >\r\n    <div class=\"general-info\">\r\n      <h3 id=\"name\">{firstName + \" \" + lastName}</h3>\r\n      <h5 id=\"student-number\">{studentNumber}</h5>\r\n      <p id=\"class\">Klasse: {className}</p>\r\n    </div>\r\n\r\n    {#if showGrades}\r\n      <hr />\r\n      <div class=\"grades\">\r\n        <h5 id=\"grades-heading\">Karakterer</h5>\r\n        <p>Dansk: {dansk}</p>\r\n        <p>Engelsk: {engelsk}</p>\r\n        <p>Historie: {historie}</p>\r\n        <p>Matematik: {matematik}</p>\r\n        <p>Geografi: {geografi}</p>\r\n      </div>\r\n    {/if}\r\n\r\n    <hr />\r\n\r\n    <div class=\"contact-info\">\r\n      <h5 id=\"contact-heading\">Kontakt</h5>\r\n      <p>{email}</p>\r\n      <p>{phone}</p>\r\n      <p>{address}</p>\r\n    </div>\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  .card-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-flow: row wrap;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 25px 0;\r\n  }\r\n\r\n  :global(#card-lg.inspect) {\r\n    box-shadow: 0 0px 4px rgb(0 0 0 / 50%), 0 0px 16px rgb(0 0 0 / 50%);\r\n    cursor: pointer;\r\n    animation: fadeIn 1s;\r\n    transition: all 0.5s ease-in-out;\r\n  }\r\n\r\n  .card-container-small {\r\n    cursor: pointer;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-flow: row wrap;\r\n    background: #fff;\r\n    padding: 0.2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .general-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-flow: row wrap;\r\n\r\n    width: 100%;\r\n  }\r\n\r\n  #name {\r\n    width: 50%;\r\n  }\r\n  #student-number {\r\n    width: 50%;\r\n    text-align: end;\r\n  }\r\n\r\n  .grades {\r\n    display: flex;\r\n    flex-flow: column;\r\n    width: 100%;\r\n  }\r\n\r\n  #grades-heading {\r\n    text-align: center;\r\n  }\r\n\r\n  .contact-info {\r\n    display: flex;\r\n    flex-flow: column;\r\n    width: 100%;\r\n  }\r\n\r\n  #contact-heading {\r\n    text-align: center;\r\n  }\r\n\r\n  hr {\r\n    width: 100%;\r\n    margin: 1em 0;\r\n  }\r\n\r\n  p {\r\n    font-size: 0.8em;\r\n  }\r\n</style>\r\n","<script>\r\n  export let firstName;\r\n  export let lastName;\r\n  export let email;\r\n  export let phone;\r\n</script>\r\n\r\n<div id=\"card-lg\" class=\"card-container\">\r\n  <div class=\"general-info\">\r\n    <h3 id=\"name\">{firstName + \" \" + lastName}</h3>\r\n  </div>\r\n\r\n  <hr />\r\n\r\n  <div class=\"contact-info\">\r\n    <h5 id=\"contact-heading\">Kontakt</h5>\r\n    <p>{email}</p>\r\n    <p>{phone}</p>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .card-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-flow: row wrap;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 25px 0;\r\n  }\r\n\r\n  :global(#card-lg.inspect) {\r\n    box-shadow: 0 0px 4px rgb(0 0 0 / 50%), 0 0px 16px rgb(0 0 0 / 50%);\r\n    cursor: pointer;\r\n    animation: fadeIn 1s;\r\n    transition: all 0.5s ease-in-out;\r\n  }\r\n\r\n\r\n\r\n  .general-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-flow: row wrap;\r\n\r\n    width: 100%;\r\n  }\r\n\r\n  #name {\r\n    width: 50%;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  .contact-info {\r\n    display: flex;\r\n    flex-flow: column;\r\n    width: 100%;\r\n  }\r\n\r\n  #contact-heading {\r\n    text-align: center;\r\n  }\r\n\r\n  hr {\r\n    width: 100%;\r\n    margin: 1em 0;\r\n  }\r\n\r\n  p {\r\n    font-size: 0.8em;\r\n  }\r\n</style>\r\n","//! moment.js\n//! version : 2.29.3\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return (\n            input instanceof Array ||\n            Object.prototype.toString.call(input) === '[object Array]'\n        );\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return (\n            input != null &&\n            Object.prototype.toString.call(input) === '[object Object]'\n        );\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return Object.getOwnPropertyNames(obj).length === 0;\n        } else {\n            var k;\n            for (k in obj) {\n                if (hasOwnProp(obj, k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return (\n            typeof input === 'number' ||\n            Object.prototype.toString.call(input) === '[object Number]'\n        );\n    }\n\n    function isDate(input) {\n        return (\n            input instanceof Date ||\n            Object.prototype.toString.call(input) === '[object Date]'\n        );\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i,\n            arrLen = arr.length;\n        for (i = 0; i < arrLen; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidEra: null,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            era: null,\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false,\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this),\n                len = t.length >>> 0,\n                i;\n\n            for (i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m),\n                parsedParts = some.call(flags.parsedDateParts, function (i) {\n                    return i != null;\n                }),\n                isNowValid =\n                    !isNaN(m._d.getTime()) &&\n                    flags.overflow < 0 &&\n                    !flags.empty &&\n                    !flags.invalidEra &&\n                    !flags.invalidMonth &&\n                    !flags.invalidWeekday &&\n                    !flags.weekdayMismatch &&\n                    !flags.nullInput &&\n                    !flags.invalidFormat &&\n                    !flags.userInvalidated &&\n                    (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid =\n                    isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            } else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = (hooks.momentProperties = []),\n        updateInProgress = false;\n\n    function copyConfig(to, from) {\n        var i,\n            prop,\n            val,\n            momentPropertiesLen = momentProperties.length;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentPropertiesLen > 0) {\n            for (i = 0; i < momentPropertiesLen; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return (\n            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\n        );\n    }\n\n    function warn(msg) {\n        if (\n            hooks.suppressDeprecationWarnings === false &&\n            typeof console !== 'undefined' &&\n            console.warn\n        ) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [],\n                    arg,\n                    i,\n                    key,\n                    argLen = arguments.length;\n                for (i = 0; i < argLen; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (key in arguments[0]) {\n                            if (hasOwnProp(arguments[0], key)) {\n                                arg += key + ': ' + arguments[0][key] + ', ';\n                            }\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(\n                    msg +\n                        '\\nArguments: ' +\n                        Array.prototype.slice.call(args).join('') +\n                        '\\n' +\n                        new Error().stack\n                );\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return (\n            (typeof Function !== 'undefined' && input instanceof Function) ||\n            Object.prototype.toString.call(input) === '[object Function]'\n        );\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            if (hasOwnProp(config, i)) {\n                prop = config[i];\n                if (isFunction(prop)) {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' +\n                /\\d{1,2}/.source\n        );\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (\n                hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])\n            ) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L',\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (\n            (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\n            absNumber\n        );\n    }\n\n    var formattingTokens =\n            /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n        formatFunctions = {},\n        formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(\n                    func.apply(this, arguments),\n                    token\n                );\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i])\n                    ? array[i].call(mom, format)\n                    : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] =\n            formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(\n                localFormattingTokens,\n                replaceLongDateFormatTokens\n            );\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper\n            .match(formattingTokens)\n            .map(function (tok) {\n                if (\n                    tok === 'MMMM' ||\n                    tok === 'MM' ||\n                    tok === 'DD' ||\n                    tok === 'dddd'\n                ) {\n                    return tok.slice(1);\n                }\n                return tok;\n            })\n            .join('');\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d',\n        defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        w: 'a week',\n        ww: '%d weeks',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years',\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output)\n            ? output(number, withoutSuffix, string, isFuture)\n            : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias(unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string'\n            ? aliases[units] || aliases[units.toLowerCase()]\n            : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [],\n            u;\n        for (u in unitsObj) {\n            if (hasOwnProp(unitsObj, u)) {\n                units.push({ unit: u, priority: priorities[u] });\n            }\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        return mom.isValid()\n            ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()\n            : NaN;\n    }\n\n    function set$1(mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (\n                unit === 'FullYear' &&\n                isLeapYear(mom.year()) &&\n                mom.month() === 1 &&\n                mom.date() === 29\n            ) {\n                value = toInt(value);\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](\n                    value,\n                    mom.month(),\n                    daysInMonth(value, mom.month())\n                );\n            } else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units),\n                i,\n                prioritizedLen = prioritized.length;\n            for (i = 0; i < prioritizedLen; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    var match1 = /\\d/, //       0 - 9\n        match2 = /\\d\\d/, //      00 - 99\n        match3 = /\\d{3}/, //     000 - 999\n        match4 = /\\d{4}/, //    0000 - 9999\n        match6 = /[+-]?\\d{6}/, // -999999 - 999999\n        match1to2 = /\\d\\d?/, //       0 - 99\n        match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\n        match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\n        match1to3 = /\\d{1,3}/, //       0 - 999\n        match1to4 = /\\d{1,4}/, //       0 - 9999\n        match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\n        matchUnsigned = /\\d+/, //       0 - inf\n        matchSigned = /[+-]?\\d+/, //    -inf - inf\n        matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n        matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        // any word (or two) characters or numbers including two/three word month in arabic.\n        // includes scottish gaelic two word and hyphenated months\n        matchWord =\n            /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\n        regexes;\n\n    regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex)\n            ? regex\n            : function (isStrict, localeData) {\n                  return isStrict && strictRegex ? strictRegex : regex;\n              };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(\n            s\n                .replace('\\\\', '')\n                .replace(\n                    /\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,\n                    function (matched, p1, p2, p3, p4) {\n                        return p1 || p2 || p3 || p4;\n                    }\n                )\n        );\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback,\n            tokenLen;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        tokenLen = token.length;\n        for (i = 0; i < tokenLen; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n        WEEK = 7,\n        WEEKDAY = 8;\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1\n            ? isLeapYear(year)\n                ? 29\n                : 28\n            : 31 - ((modMonth % 7) % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M', match1to2);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths =\n            'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n                '_'\n            ),\n        defaultLocaleMonthsShort =\n            'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n        defaultMonthsShortRegex = matchWord,\n        defaultMonthsRegex = matchWord;\n\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months)\n                ? this._months\n                : this._months['standalone'];\n        }\n        return isArray(this._months)\n            ? this._months[m.month()]\n            : this._months[\n                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\n                      ? 'format'\n                      : 'standalone'\n              ][m.month()];\n    }\n\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort)\n                ? this._monthsShort\n                : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort)\n            ? this._monthsShort[m.month()]\n            : this._monthsShort[\n                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\n              ][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp(\n                    '^' + this.months(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n                this._shortMonthsParse[i] = new RegExp(\n                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex =\n                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'MMMM' &&\n                this._longMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'MMM' &&\n                this._shortMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict\n                ? this._monthsShortStrictRegex\n                : this._monthsShortRegex;\n        }\n    }\n\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict\n                ? this._monthsStrictRegex\n                : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._monthsShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? zeroFill(y, 4) : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] =\n            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date, args;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear,\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear,\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w', match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(\n        ['w', 'ww', 'W', 'WW'],\n        function (input, week, config, token) {\n            week[token.substr(0, 1)] = toInt(input);\n        }\n    );\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6, // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays(ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays =\n            'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        defaultWeekdaysRegex = matchWord,\n        defaultWeekdaysShortRegex = matchWord,\n        defaultWeekdaysMinRegex = matchWord;\n\n    function localeWeekdays(m, format) {\n        var weekdays = isArray(this._weekdays)\n            ? this._weekdays\n            : this._weekdays[\n                  m && m !== true && this._weekdays.isFormat.test(format)\n                      ? 'format'\n                      : 'standalone'\n              ];\n        return m === true\n            ? shiftWeekdays(weekdays, this._week.dow)\n            : m\n            ? weekdays[m.day()]\n            : weekdays;\n    }\n\n    function localeWeekdaysShort(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : m\n            ? this._weekdaysShort[m.day()]\n            : this._weekdaysShort;\n    }\n\n    function localeWeekdaysMin(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : m\n            ? this._weekdaysMin[m.day()]\n            : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._shortWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._minWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n            }\n            if (!this._weekdaysParse[i]) {\n                regex =\n                    '^' +\n                    this.weekdays(mom, '') +\n                    '|^' +\n                    this.weekdaysShort(mom, '') +\n                    '|^' +\n                    this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'dddd' &&\n                this._fullWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'ddd' &&\n                this._shortWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'dd' &&\n                this._minWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict\n                ? this._weekdaysStrictRegex\n                : this._weekdaysRegex;\n        }\n    }\n\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict\n                ? this._weekdaysShortStrictRegex\n                : this._weekdaysShortRegex;\n        }\n    }\n\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict\n                ? this._weekdaysMinStrictRegex\n                : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = regexEscape(this.weekdaysMin(mom, ''));\n            shortp = regexEscape(this.weekdaysShort(mom, ''));\n            longp = regexEscape(this.weekdays(mom, ''));\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysMinStrictRegex = new RegExp(\n            '^(' + minPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return (\n            '' +\n            hFormat.apply(this) +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return (\n            '' +\n            this.hours() +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(\n                this.hours(),\n                this.minutes(),\n                lowercase\n            );\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2);\n    addRegexToken('h', match1to2);\n    addRegexToken('k', match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\n        // Setting the hour should keep the time, because the user explicitly\n        // specified which hour they want. So trying to maintain the same hour (in\n        // a new timezone) makes sense. Adding/subtracting hours does not follow\n        // this rule.\n        getSetHour = makeGetSet('Hours', true);\n\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse,\n    };\n\n    // internal storage for locale config files\n    var locales = {},\n        localeFamilies = {},\n        globalLocale;\n\n    function commonPrefix(arr1, arr2) {\n        var i,\n            minl = Math.min(arr1.length, arr2.length);\n        for (i = 0; i < minl; i += 1) {\n            if (arr1[i] !== arr2[i]) {\n                return i;\n            }\n        }\n        return minl;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (\n                    next &&\n                    next.length >= j &&\n                    commonPrefix(split, next) >= j - 1\n                ) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function isLocaleNameSane(name) {\n        // Prevent names that look like filesystem paths, i.e contain '/' or '\\'\n        return name.match('^[^/\\\\\\\\]*$') != null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null,\n            aliasedRequire;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (\n            locales[name] === undefined &&\n            typeof module !== 'undefined' &&\n            module &&\n            module.exports &&\n            isLocaleNameSane(name)\n        ) {\n            try {\n                oldLocale = globalLocale._abbr;\n                aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {\n                // mark as not found to avoid repeating expensive file require call causing high CPU\n                // when trying to find en-US, en_US, en-us for every format call\n                locales[name] = null; // null means not found\n            }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            } else {\n                if (typeof console !== 'undefined' && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn(\n                        'Locale ' + key + ' not found. Did you forget to load it?'\n                    );\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var locale,\n                parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple(\n                    'defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\n                );\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config,\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                tmpLocale,\n                parentConfig = baseConfig;\n\n            if (locales[name] != null && locales[name].parentLocale != null) {\n                // Update existing child locale in-place to avoid memory-leaks\n                locales[name].set(mergeConfigs(locales[name]._config, config));\n            } else {\n                // MERGE\n                tmpLocale = loadLocale(name);\n                if (tmpLocale != null) {\n                    parentConfig = tmpLocale._config;\n                }\n                config = mergeConfigs(parentConfig, config);\n                if (tmpLocale == null) {\n                    // updateLocale is called for creating a new locale\n                    // Set abbr so it will have a name (getters return\n                    // undefined otherwise).\n                    config.abbr = name;\n                }\n                locale = new Locale(config);\n                locale.parentLocale = locales[name];\n                locales[name] = locale;\n            }\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                    if (name === getSetGlobalLocale()) {\n                        getSetGlobalLocale(name);\n                    }\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow,\n            a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH] < 0 || a[MONTH] > 11\n                    ? MONTH\n                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\n                    ? DATE\n                    : a[HOUR] < 0 ||\n                      a[HOUR] > 24 ||\n                      (a[HOUR] === 24 &&\n                          (a[MINUTE] !== 0 ||\n                              a[SECOND] !== 0 ||\n                              a[MILLISECOND] !== 0))\n                    ? HOUR\n                    : a[MINUTE] < 0 || a[MINUTE] > 59\n                    ? MINUTE\n                    : a[SECOND] < 0 || a[SECOND] > 59\n                    ? SECOND\n                    : a[MILLISECOND] < 0 || a[MILLISECOND] > 999\n                    ? MILLISECOND\n                    : -1;\n\n            if (\n                getParsingFlags(m)._overflowDayOfYear &&\n                (overflow < YEAR || overflow > DATE)\n            ) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex =\n            /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        basicIsoRegex =\n            /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n            ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/],\n            ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n            ['YYYYYYMMDD', /[+-]\\d{10}/],\n            ['YYYYMMDD', /\\d{8}/],\n            ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n            ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n            ['YYYYDDD', /\\d{7}/],\n            ['YYYYMM', /\\d{6}/, false],\n            ['YYYY', /\\d{4}/, false],\n        ],\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n            ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /\\d\\d:\\d\\d/],\n            ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n            ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n            ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n            ['HHmm', /\\d\\d\\d\\d/],\n            ['HH', /\\d\\d/],\n        ],\n        aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\n        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n        rfc2822 =\n            /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n        obsOffsets = {\n            UT: 0,\n            GMT: 0,\n            EDT: -4 * 60,\n            EST: -5 * 60,\n            CDT: -5 * 60,\n            CST: -6 * 60,\n            MDT: -6 * 60,\n            MST: -7 * 60,\n            PDT: -7 * 60,\n            PST: -8 * 60,\n        };\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat,\n            isoDatesLen = isoDates.length,\n            isoTimesLen = isoTimes.length;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n            for (i = 0, l = isoDatesLen; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimesLen; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    function extractFromRFC2822Strings(\n        yearStr,\n        monthStr,\n        dayStr,\n        hourStr,\n        minuteStr,\n        secondStr\n    ) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10),\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s\n            .replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\n            .replace(/(\\s\\s+)/g, ' ')\n            .replace(/^\\s\\s*/, '')\n            .replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(\n                    parsedInput[0],\n                    parsedInput[1],\n                    parsedInput[2]\n                ).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10),\n                m = hm % 100,\n                h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i)),\n            parsedArray;\n        if (match) {\n            parsedArray = extractFromRFC2822Strings(\n                match[4],\n                match[3],\n                match[2],\n                match[5],\n                match[6],\n                match[7]\n            );\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        if (config._strict) {\n            config._isValid = false;\n        } else {\n            // Final attempt, use Input Fallback\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [\n                nowValue.getUTCFullYear(),\n                nowValue.getUTCMonth(),\n                nowValue.getUTCDate(),\n            ];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            expectedWeekday,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (\n                config._dayOfYear > daysInYear(yearToUse) ||\n                config._dayOfYear === 0\n            ) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] =\n                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (\n            config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0\n        ) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(\n            null,\n            input\n        );\n        expectedWeekday = config._useUTC\n            ? config._d.getUTCDay()\n            : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (\n            config._w &&\n            typeof config._w.d !== 'undefined' &&\n            config._w.d !== expectedWeekday\n        ) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(\n                w.GG,\n                config._a[YEAR],\n                weekOfYear(createLocal(), 1, 4).year\n            );\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0,\n            era,\n            tokenLen;\n\n        tokens =\n            expandFormat(config._f, config._locale).match(formattingTokens) || [];\n        tokenLen = tokens.length;\n        for (i = 0; i < tokenLen; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) ||\n                [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(\n                    string.indexOf(parsedInput) + parsedInput.length\n                );\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver =\n            stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (\n            config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0\n        ) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(\n            config._locale,\n            config._a[HOUR],\n            config._meridiem\n        );\n\n        // handle era\n        era = getParsingFlags(config).era;\n        if (era !== null) {\n            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\n        }\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n            scoreToBeat,\n            i,\n            currentScore,\n            validFormatFound,\n            bestFormatIsValid = false,\n            configfLen = config._f.length;\n\n        if (configfLen === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < configfLen; i++) {\n            currentScore = 0;\n            validFormatFound = false;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (isValid(tempConfig)) {\n                validFormatFound = true;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (!bestFormatIsValid) {\n                if (\n                    scoreToBeat == null ||\n                    currentScore < scoreToBeat ||\n                    validFormatFound\n                ) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                    if (validFormatFound) {\n                        bestFormatIsValid = true;\n                    }\n                }\n            } else {\n                if (currentScore < scoreToBeat) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                }\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i),\n            dayOrDate = i.day === undefined ? i.date : i.day;\n        config._a = map(\n            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\n            function (obj) {\n                return obj && parseInt(obj, 10);\n            }\n        );\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (format === true || format === false) {\n            strict = format;\n            format = undefined;\n        }\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (\n            (isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)\n        ) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other < this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        ),\n        prototypeMax = deprecate(\n            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other > this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second',\n        'millisecond',\n    ];\n\n    function isDurationValid(m) {\n        var key,\n            unitHasDecimal = false,\n            i,\n            orderLen = ordering.length;\n        for (key in m) {\n            if (\n                hasOwnProp(m, key) &&\n                !(\n                    indexOf.call(ordering, key) !== -1 &&\n                    (m[key] == null || !isNaN(m[key]))\n                )\n            ) {\n                return false;\n            }\n        }\n\n        for (i = 0; i < orderLen; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds =\n            +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (\n                (dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\n            ) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset(),\n                sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return (\n                sign +\n                zeroFill(~~(offset / 60), 2) +\n                separator +\n                zeroFill(~~offset % 60, 2)\n            );\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher),\n            chunk,\n            parts,\n            minutes;\n\n        if (matches === null) {\n            return null;\n        }\n\n        chunk = matches[matches.length - 1] || [];\n        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff =\n                (isMoment(input) || isDate(input)\n                    ? input.valueOf()\n                    : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset());\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(\n                        this,\n                        createDuration(input - offset, 'm'),\n                        1,\n                        false\n                    );\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {},\n            other;\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted =\n                this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        // and further modified to allow for strings containing both week and day\n        isoRegex =\n            /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months,\n            };\n        } else if (isNumber(input) || !isNaN(+input)) {\n            duration = {};\n            if (key) {\n                duration[key] = +input;\n            } else {\n                duration.milliseconds = +input;\n            }\n        } else if ((match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\n            };\n        } else if ((match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign),\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if (\n            typeof duration === 'object' &&\n            ('from' in duration || 'to' in duration)\n        ) {\n            diffRes = momentsDifference(\n                createLocal(duration.from),\n                createLocal(duration.to)\n            );\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        if (isDuration(input) && hasOwnProp(input, '_isValid')) {\n            ret._isValid = input._isValid;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months =\n            other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(\n                    name,\n                    'moment().' +\n                        name +\n                        '(period, number) is deprecated. Please use moment().' +\n                        name +\n                        '(number, period). ' +\n                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\n                );\n                tmp = val;\n                val = period;\n                period = tmp;\n            }\n\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add'),\n        subtract = createAdder(-1, 'subtract');\n\n    function isString(input) {\n        return typeof input === 'string' || input instanceof String;\n    }\n\n    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\n    function isMomentInput(input) {\n        return (\n            isMoment(input) ||\n            isDate(input) ||\n            isString(input) ||\n            isNumber(input) ||\n            isNumberOrStringArray(input) ||\n            isMomentInputObject(input) ||\n            input === null ||\n            input === undefined\n        );\n    }\n\n    function isMomentInputObject(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'years',\n                'year',\n                'y',\n                'months',\n                'month',\n                'M',\n                'days',\n                'day',\n                'd',\n                'dates',\n                'date',\n                'D',\n                'hours',\n                'hour',\n                'h',\n                'minutes',\n                'minute',\n                'm',\n                'seconds',\n                'second',\n                's',\n                'milliseconds',\n                'millisecond',\n                'ms',\n            ],\n            i,\n            property,\n            propertyLen = properties.length;\n\n        for (i = 0; i < propertyLen; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function isNumberOrStringArray(input) {\n        var arrayTest = isArray(input),\n            dataTypeTest = false;\n        if (arrayTest) {\n            dataTypeTest =\n                input.filter(function (item) {\n                    return !isNumber(item) && isString(input);\n                }).length === 0;\n        }\n        return arrayTest && dataTypeTest;\n    }\n\n    function isCalendarSpec(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'sameDay',\n                'nextDay',\n                'lastDay',\n                'nextWeek',\n                'lastWeek',\n                'sameElse',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6\n            ? 'sameElse'\n            : diff < -1\n            ? 'lastWeek'\n            : diff < 0\n            ? 'lastDay'\n            : diff < 1\n            ? 'sameDay'\n            : diff < 2\n            ? 'nextDay'\n            : diff < 7\n            ? 'nextWeek'\n            : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // Support for single parameter, formats only overload to the calendar function\n        if (arguments.length === 1) {\n            if (!arguments[0]) {\n                time = undefined;\n                formats = undefined;\n            } else if (isMomentInput(arguments[0])) {\n                time = arguments[0];\n                formats = undefined;\n            } else if (isCalendarSpec(arguments[0])) {\n                formats = arguments[0];\n                time = undefined;\n            }\n        }\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse',\n            output =\n                formats &&\n                (isFunction(formats[format])\n                    ? formats[format].call(this, now)\n                    : formats[format]);\n\n        return this.format(\n            output || this.localeData().calendar(format, this, createLocal(now))\n        );\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (\n            (inclusivity[0] === '('\n                ? this.isAfter(localFrom, units)\n                : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')'\n                ? this.isBefore(localTo, units)\n                : !this.isAfter(localTo, units))\n        );\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return (\n                this.clone().startOf(units).valueOf() <= inputMs &&\n                inputMs <= this.clone().endOf(units).valueOf()\n            );\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year':\n                output = monthDiff(this, that) / 12;\n                break;\n            case 'month':\n                output = monthDiff(this, that);\n                break;\n            case 'quarter':\n                output = monthDiff(this, that) / 3;\n                break;\n            case 'second':\n                output = (this - that) / 1e3;\n                break; // 1000\n            case 'minute':\n                output = (this - that) / 6e4;\n                break; // 1000 * 60\n            case 'hour':\n                output = (this - that) / 36e5;\n                break; // 1000 * 60 * 60\n            case 'day':\n                output = (this - that - zoneDelta) / 864e5;\n                break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week':\n                output = (this - that - zoneDelta) / 6048e5;\n                break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default:\n                output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        if (a.date() < b.date()) {\n            // end-of-month calculations work correct when the start month has more\n            // days than the end month.\n            return -monthDiff(b, a);\n        }\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true,\n            m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(\n                m,\n                utc\n                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\n                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\n            );\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\n                    .toISOString()\n                    .replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(\n            m,\n            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\n        );\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment',\n            zone = '',\n            prefix,\n            year,\n            datetime,\n            suffix;\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        prefix = '[' + func + '(\"]';\n        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc()\n                ? hooks.defaultFormatUtc\n                : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ to: this, from: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ from: this, to: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData() {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000,\n        MS_PER_MINUTE = 60 * MS_PER_SECOND,\n        MS_PER_HOUR = 60 * MS_PER_MINUTE,\n        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return ((dividend % divisor) + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(\n                    this.year(),\n                    this.month() - (this.month() % 3),\n                    1\n                );\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - this.weekday()\n                );\n                break;\n            case 'isoWeek':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - (this.isoWeekday() - 1)\n                );\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(\n                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                    MS_PER_HOUR\n                );\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month() - (this.month() % 3) + 3,\n                        1\n                    ) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - this.weekday() + 7\n                    ) - 1;\n                break;\n            case 'isoWeek':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - (this.isoWeekday() - 1) + 7\n                    ) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time +=\n                    MS_PER_HOUR -\n                    mod$1(\n                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                        MS_PER_HOUR\n                    ) -\n                    1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [\n            m.year(),\n            m.month(),\n            m.date(),\n            m.hour(),\n            m.minute(),\n            m.second(),\n            m.millisecond(),\n        ];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds(),\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict,\n        };\n    }\n\n    addFormatToken('N', 0, 0, 'eraAbbr');\n    addFormatToken('NN', 0, 0, 'eraAbbr');\n    addFormatToken('NNN', 0, 0, 'eraAbbr');\n    addFormatToken('NNNN', 0, 0, 'eraName');\n    addFormatToken('NNNNN', 0, 0, 'eraNarrow');\n\n    addFormatToken('y', ['y', 1], 'yo', 'eraYear');\n    addFormatToken('y', ['yy', 2], 0, 'eraYear');\n    addFormatToken('y', ['yyy', 3], 0, 'eraYear');\n    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\n\n    addRegexToken('N', matchEraAbbr);\n    addRegexToken('NN', matchEraAbbr);\n    addRegexToken('NNN', matchEraAbbr);\n    addRegexToken('NNNN', matchEraName);\n    addRegexToken('NNNNN', matchEraNarrow);\n\n    addParseToken(\n        ['N', 'NN', 'NNN', 'NNNN', 'NNNNN'],\n        function (input, array, config, token) {\n            var era = config._locale.erasParse(input, token, config._strict);\n            if (era) {\n                getParsingFlags(config).era = era;\n            } else {\n                getParsingFlags(config).invalidEra = input;\n            }\n        }\n    );\n\n    addRegexToken('y', matchUnsigned);\n    addRegexToken('yy', matchUnsigned);\n    addRegexToken('yyy', matchUnsigned);\n    addRegexToken('yyyy', matchUnsigned);\n    addRegexToken('yo', matchEraYearOrdinal);\n\n    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\n    addParseToken(['yo'], function (input, array, config, token) {\n        var match;\n        if (config._locale._eraYearOrdinalRegex) {\n            match = input.match(config._locale._eraYearOrdinalRegex);\n        }\n\n        if (config._locale.eraYearOrdinalParse) {\n            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\n        } else {\n            array[YEAR] = parseInt(input, 10);\n        }\n    });\n\n    function localeEras(m, format) {\n        var i,\n            l,\n            date,\n            eras = this._eras || getLocale('en')._eras;\n        for (i = 0, l = eras.length; i < l; ++i) {\n            switch (typeof eras[i].since) {\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].since).startOf('day');\n                    eras[i].since = date.valueOf();\n                    break;\n            }\n\n            switch (typeof eras[i].until) {\n                case 'undefined':\n                    eras[i].until = +Infinity;\n                    break;\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].until).startOf('day').valueOf();\n                    eras[i].until = date.valueOf();\n                    break;\n            }\n        }\n        return eras;\n    }\n\n    function localeErasParse(eraName, format, strict) {\n        var i,\n            l,\n            eras = this.eras(),\n            name,\n            abbr,\n            narrow;\n        eraName = eraName.toUpperCase();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            name = eras[i].name.toUpperCase();\n            abbr = eras[i].abbr.toUpperCase();\n            narrow = eras[i].narrow.toUpperCase();\n\n            if (strict) {\n                switch (format) {\n                    case 'N':\n                    case 'NN':\n                    case 'NNN':\n                        if (abbr === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNN':\n                        if (name === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNNN':\n                        if (narrow === eraName) {\n                            return eras[i];\n                        }\n                        break;\n                }\n            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\n                return eras[i];\n            }\n        }\n    }\n\n    function localeErasConvertYear(era, year) {\n        var dir = era.since <= era.until ? +1 : -1;\n        if (year === undefined) {\n            return hooks(era.since).year();\n        } else {\n            return hooks(era.since).year() + (year - era.offset) * dir;\n        }\n    }\n\n    function getEraName() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].name;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].name;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraNarrow() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].narrow;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].narrow;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraAbbr() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].abbr;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].abbr;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraYear() {\n        var i,\n            l,\n            dir,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            dir = eras[i].since <= eras[i].until ? +1 : -1;\n\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (\n                (eras[i].since <= val && val <= eras[i].until) ||\n                (eras[i].until <= val && val <= eras[i].since)\n            ) {\n                return (\n                    (this.year() - hooks(eras[i].since).year()) * dir +\n                    eras[i].offset\n                );\n            }\n        }\n\n        return this.year();\n    }\n\n    function erasNameRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNameRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNameRegex : this._erasRegex;\n    }\n\n    function erasAbbrRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasAbbrRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasAbbrRegex : this._erasRegex;\n    }\n\n    function erasNarrowRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNarrowRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNarrowRegex : this._erasRegex;\n    }\n\n    function matchEraAbbr(isStrict, locale) {\n        return locale.erasAbbrRegex(isStrict);\n    }\n\n    function matchEraName(isStrict, locale) {\n        return locale.erasNameRegex(isStrict);\n    }\n\n    function matchEraNarrow(isStrict, locale) {\n        return locale.erasNarrowRegex(isStrict);\n    }\n\n    function matchEraYearOrdinal(isStrict, locale) {\n        return locale._eraYearOrdinalRegex || matchUnsigned;\n    }\n\n    function computeErasParse() {\n        var abbrPieces = [],\n            namePieces = [],\n            narrowPieces = [],\n            mixedPieces = [],\n            i,\n            l,\n            eras = this.eras();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            namePieces.push(regexEscape(eras[i].name));\n            abbrPieces.push(regexEscape(eras[i].abbr));\n            narrowPieces.push(regexEscape(eras[i].narrow));\n\n            mixedPieces.push(regexEscape(eras[i].name));\n            mixedPieces.push(regexEscape(eras[i].abbr));\n            mixedPieces.push(regexEscape(eras[i].narrow));\n        }\n\n        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\n        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\n        this._erasNarrowRegex = new RegExp(\n            '^(' + narrowPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(\n        ['gggg', 'ggggg', 'GGGG', 'GGGGG'],\n        function (input, week, config, token) {\n            week[token.substr(0, 2)] = toInt(input);\n        }\n    );\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy\n        );\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.isoWeek(),\n            this.isoWeekday(),\n            1,\n            4\n        );\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getISOWeeksInISOWeekYear() {\n        return weeksInYear(this.isoWeekYear(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getWeeksInWeekYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null\n            ? Math.ceil((this.month() + 1) / 3)\n            : this.month((input - 1) * 3 + (this.month() % 3));\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D', match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict\n            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse\n            : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear =\n            Math.round(\n                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\n            ) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m', match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s', match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token, getSetMillisecond;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n\n    getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    if (typeof Symbol !== 'undefined' && Symbol.for != null) {\n        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\n            return 'Moment<' + this.format() + '>';\n        };\n    }\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n    proto.eraName = getEraName;\n    proto.eraNarrow = getEraNarrow;\n    proto.eraAbbr = getEraAbbr;\n    proto.eraYear = getEraYear;\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.weeksInWeekYear = getWeeksInWeekYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates = deprecate(\n        'dates accessor is deprecated. Use date instead.',\n        getSetDayOfMonth\n    );\n    proto.months = deprecate(\n        'months accessor is deprecated. Use month instead',\n        getSetMonth\n    );\n    proto.years = deprecate(\n        'years accessor is deprecated. Use year instead',\n        getSetYear\n    );\n    proto.zone = deprecate(\n        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\n        getSetZone\n    );\n    proto.isDSTShifted = deprecate(\n        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\n        isDaylightSavingTimeShifted\n    );\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n    proto$1.eras = localeEras;\n    proto$1.erasParse = localeErasParse;\n    proto$1.erasConvertYear = localeErasConvertYear;\n    proto$1.erasAbbrRegex = erasAbbrRegex;\n    proto$1.erasNameRegex = erasNameRegex;\n    proto$1.erasNarrowRegex = erasNarrowRegex;\n\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale(),\n            utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i,\n            out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0,\n            i,\n            out = [];\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        eras: [\n            {\n                since: '0001-01-01',\n                until: +Infinity,\n                offset: 1,\n                name: 'Anno Domini',\n                narrow: 'AD',\n                abbr: 'AD',\n            },\n            {\n                since: '0000-12-31',\n                until: -Infinity,\n                offset: 1,\n                name: 'Before Christ',\n                narrow: 'BC',\n                abbr: 'BC',\n            },\n        ],\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function (number) {\n            var b = number % 10,\n                output =\n                    toInt((number % 100) / 10) === 1\n                        ? 'th'\n                        : b === 1\n                        ? 'st'\n                        : b === 2\n                        ? 'nd'\n                        : b === 3\n                        ? 'rd'\n                        : 'th';\n            return number + output;\n        },\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate(\n        'moment.lang is deprecated. Use moment.locale instead.',\n        getSetGlobalLocale\n    );\n    hooks.langData = deprecate(\n        'moment.langData is deprecated. Use moment.localeData instead.',\n        getLocale\n    );\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds,\n            days = this._days,\n            months = this._months,\n            data = this._data,\n            seconds,\n            minutes,\n            hours,\n            years,\n            monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (\n            !(\n                (milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0)\n            )\n        ) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return (days * 4800) / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return (months * 146097) / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days,\n            months,\n            milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':\n                    return months;\n                case 'quarter':\n                    return months / 3;\n                case 'year':\n                    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1() {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms'),\n        asSeconds = makeAs('s'),\n        asMinutes = makeAs('m'),\n        asHours = makeAs('h'),\n        asDays = makeAs('d'),\n        asWeeks = makeAs('w'),\n        asMonths = makeAs('M'),\n        asQuarters = makeAs('Q'),\n        asYears = makeAs('y');\n\n    function clone$1() {\n        return createDuration(this);\n    }\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds'),\n        seconds = makeGetter('seconds'),\n        minutes = makeGetter('minutes'),\n        hours = makeGetter('hours'),\n        days = makeGetter('days'),\n        months = makeGetter('months'),\n        years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round,\n        thresholds = {\n            ss: 44, // a few seconds to seconds\n            s: 45, // seconds to minute\n            m: 45, // minutes to hour\n            h: 22, // hours to day\n            d: 26, // days to month/week\n            w: null, // weeks to month\n            M: 11, // months to year\n        };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\n        var duration = createDuration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            weeks = round(duration.as('w')),\n            years = round(duration.as('y')),\n            a =\n                (seconds <= thresholds.ss && ['s', seconds]) ||\n                (seconds < thresholds.s && ['ss', seconds]) ||\n                (minutes <= 1 && ['m']) ||\n                (minutes < thresholds.m && ['mm', minutes]) ||\n                (hours <= 1 && ['h']) ||\n                (hours < thresholds.h && ['hh', hours]) ||\n                (days <= 1 && ['d']) ||\n                (days < thresholds.d && ['dd', days]);\n\n        if (thresholds.w != null) {\n            a =\n                a ||\n                (weeks <= 1 && ['w']) ||\n                (weeks < thresholds.w && ['ww', weeks]);\n        }\n        a = a ||\n            (months <= 1 && ['M']) ||\n            (months < thresholds.M && ['MM', months]) ||\n            (years <= 1 && ['y']) || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(argWithSuffix, argThresholds) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var withSuffix = false,\n            th = thresholds,\n            locale,\n            output;\n\n        if (typeof argWithSuffix === 'object') {\n            argThresholds = argWithSuffix;\n            argWithSuffix = false;\n        }\n        if (typeof argWithSuffix === 'boolean') {\n            withSuffix = argWithSuffix;\n        }\n        if (typeof argThresholds === 'object') {\n            th = Object.assign({}, thresholds, argThresholds);\n            if (argThresholds.s != null && argThresholds.ss == null) {\n                th.ss = argThresholds.s - 1;\n            }\n        }\n\n        locale = this.localeData();\n        output = relativeTime$1(this, !withSuffix, th, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return (x > 0) - (x < 0) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000,\n            days = abs$1(this._days),\n            months = abs$1(this._months),\n            minutes,\n            hours,\n            years,\n            s,\n            total = this.asSeconds(),\n            totalSign,\n            ymSign,\n            daysSign,\n            hmsSign;\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n\n        totalSign = total < 0 ? '-' : '';\n        ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return (\n            totalSign +\n            'P' +\n            (years ? ymSign + years + 'Y' : '') +\n            (months ? ymSign + months + 'M' : '') +\n            (days ? daysSign + days + 'D' : '') +\n            (hours || minutes || seconds ? 'T' : '') +\n            (hours ? hmsSign + hours + 'H' : '') +\n            (minutes ? hmsSign + minutes + 'M' : '') +\n            (seconds ? hmsSign + s + 'S' : '')\n        );\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asQuarters = asQuarters;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.clone = clone$1;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    proto$2.toIsoString = deprecate(\n        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\n        toISOString$1\n    );\n    proto$2.lang = lang;\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    //! moment.js\n\n    hooks.version = '2.29.3';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD', // <input type=\"date\" />\n        TIME: 'HH:mm', // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\n        MONTH: 'YYYY-MM', // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","<script>\r\n  import {\r\n    userData,\r\n    posts,\r\n    isAdmin,\r\n    classes,\r\n    currentClass,\r\n  } from \"../../store/store\";\r\n  import Post from \"../../components/Post.svelte\";\r\n  import StudentCard from \"../../components/StudentCard.svelte\";\r\n  import TeacherCard from \"../../components/TeacherCard.svelte\";\r\n  import { onMount } from \"svelte\";\r\n  import moment from \"moment\";\r\n  import { toasts } from \"svelte-toasts\";\r\n\r\n  let mounted = false;\r\n  onMount(async () => {\r\n    if ($isAdmin) {\r\n      await getTeacherData();\r\n    } else {\r\n      await getStudentData();\r\n    }\r\n    await getPosts();\r\n    mounted = true;\r\n  });\r\n\r\n  async function getTeacherData() {\r\n    const resp = await fetch(\"MYURL/api/teachers/user\", {\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const respData = await resp.json();\r\n\r\n    userData.set(respData.teacherData);\r\n    classes.set(respData.classes);\r\n\r\n    if ($currentClass === null) {\r\n      currentClass.set(respData.classes[0]);\r\n    }\r\n  }\r\n\r\n  async function getStudentData() {\r\n    const resp = await fetch(\"MYURL/api/students/user\", {\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const respData = await resp.json();\r\n\r\n    userData.set(respData.data);\r\n\r\n    const classRoom = {\r\n      className: respData.data.className,\r\n      classId: respData.data.classId,\r\n    };\r\n    currentClass.set(classRoom);\r\n  }\r\n\r\n  async function getPosts() {\r\n    const resp = await fetch(\"MYURL/api/posts/\" + $currentClass.classId, {\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const respData = await resp.json();\r\n\r\n    posts.set(respData.data);\r\n  }\r\n\r\n  function handleFormOpen() {\r\n    const form = document.getElementById(\"create-post\");\r\n\r\n    form.classList.toggle(\"hidden\");\r\n    form.classList.toggle(\"show\");\r\n  }\r\n\r\n  async function handleSendPost() {\r\n    const title = document.getElementById(\"title-input\");\r\n    const content = document.getElementById(\"content-input\");\r\n    const created = moment().format(\"YYYY-MM-DD HH:mm:ss\");\r\n    const studentName = $userData.firstName + \" \" + $userData.lastName;\r\n    const classId = $currentClass.classId;\r\n\r\n    if (title.value === \"\" || content.value === \"\") {\r\n      toasts.error(\"Udfyld venligst både titel og indhold\");\r\n      return;\r\n    }\r\n\r\n    const post = {\r\n      title: title.value,\r\n      content: content.value,\r\n      created: created,\r\n      studentName: studentName,\r\n      classId: classId,\r\n    };\r\n\r\n    await fetch(\"MYURL/api/posts\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(post),\r\n      headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((responseText) => {\r\n        if (responseText.success) {\r\n          toasts.success(\"Dit opslag er nu oprettet\");\r\n          getPosts();\r\n\r\n          title.value = \"\";\r\n          content.value = \"\";\r\n        } else {\r\n          toasts.error(\"Der skete en fejl\");\r\n        }\r\n      });\r\n  }\r\n</script>\r\n\r\n{#if mounted}\r\n  <div class=\"container\">\r\n    <div class=\"posts\">\r\n      <div class=\"header-container\">\r\n        <button on:click={handleFormOpen} id=\"open-form-btn\"\r\n          >Opret opslag</button\r\n        >\r\n        <h1>{$currentClass.className}'s opslagstavle</h1>\r\n      </div>\r\n      <div id=\"create-post\" class=\"hidden\">\r\n        <input id=\"title-input\" type=\"text\" placeholder=\"Titel\" />\r\n        <textarea\r\n          type=\"text\"\r\n          id=\"content-input\"\r\n          cols=\"40\"\r\n          rows=\"8\"\r\n          placeholder=\"Besked\"\r\n        />\r\n\r\n        <button on:click={handleSendPost} id=\"send-post-btn\">Slå op</button>\r\n      </div>\r\n\r\n      {#each $posts as post}\r\n        <Post\r\n          title={post.title}\r\n          content={post.content}\r\n          creator={post.studentName}\r\n          timestamp={post.created}\r\n          postId={post.postId}\r\n        />\r\n      {/each}\r\n    </div>\r\n    <div class=\"student-info\">\r\n      {#if $isAdmin}\r\n        <TeacherCard\r\n          firstName={$userData.firstName}\r\n          lastName={$userData.lastName}\r\n          email={$userData.email}\r\n          phone={$userData.phone}\r\n        />\r\n      {:else}\r\n        <StudentCard\r\n          firstName={$userData.firstName}\r\n          lastName={$userData.lastName}\r\n          studentNumber={$userData.studentNumber}\r\n          className={$userData.className}\r\n          email={$userData.email}\r\n          phone={$userData.phone}\r\n          address={$userData.address}\r\n          showGrades={true}\r\n          dansk={$userData.dansk}\r\n          engelsk={$userData.engelsk}\r\n          historie={$userData.historie}\r\n          matematik={$userData.matematik}\r\n          geografi={$userData.geografi}\r\n          small={false}\r\n        />\r\n      {/if}\r\n    </div>\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  .container {\r\n    overflow: overlay;\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n  }\r\n\r\n  .header-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .header-container h1 {\r\n    display: flex;\r\n    align-items: flex-end;\r\n    font-family: var(--primary-font);\r\n  }\r\n\r\n  #create-post {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 25px 0;\r\n  }\r\n\r\n  #title-input {\r\n    outline: none;\r\n    padding: 0.8rem 1rem;\r\n    margin-bottom: 0.8rem;\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  #title-input:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  #content-input {\r\n    outline: none;\r\n    padding: 0.8rem 1rem;\r\n    margin-bottom: 0.8rem;\r\n    font-size: 0.8rem;\r\n    resize: none;\r\n  }\r\n\r\n  #content-input:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  #create-post > * {\r\n    font-family: var(--primary-font);\r\n    margin: 0.5rem;\r\n  }\r\n\r\n  #create-post.hidden {\r\n    height: 0px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    visibility: hidden;\r\n  }\r\n\r\n  :global(#create-post.show) {\r\n    animation: fadeIn 0.5s;\r\n    visibility: revert;\r\n  }\r\n\r\n  #send-post-btn {\r\n    outline: none;\r\n    border: none;\r\n    background: #1877f2;\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 0.4rem;\r\n    font-size: 1.1rem;\r\n    color: #fff;\r\n  }\r\n\r\n  #send-post-btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n\r\n  #open-form-btn {\r\n    margin-top: 25px;\r\n    outline: none;\r\n    border: none;\r\n    background: #1877f2;\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 0.4rem;\r\n    font-size: 1.1rem;\r\n    color: #fff;\r\n  }\r\n\r\n  #open-form-btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n","<script>\r\n  import { students, isAdmin } from \"../../store/store\";\r\n  import StudentCard from \"../../components/StudentCard.svelte\";\r\n  import { toasts } from \"svelte-toasts\";\r\n\r\n  let allClasses = [];\r\n\r\n  async function getAllStudents() {\r\n    const resp = await fetch(\"MYURL/api/students/\", {\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const respData = await resp.json();\r\n    students.set(respData.data);\r\n  }\r\n\r\n  async function getAllClasses() {\r\n    const resp = await fetch(\"MYURL/api/classes/\", {\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const respData = await resp.json();\r\n\r\n    allClasses = respData.data;\r\n  }\r\n\r\n  getAllStudents();\r\n  getAllClasses();\r\n\r\n  function handleFormOpen() {\r\n    const form = document.getElementById(\"create-new-student\");\r\n\r\n    form.classList.toggle(\"hidden\");\r\n    form.classList.toggle(\"show\");\r\n  }\r\n\r\n  const validateEmail = (email) => {\r\n    return email.match(\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    );\r\n  };\r\n\r\n  async function handleCreateStudent() {\r\n    const firstName = document.getElementById(\"firstName-input\");\r\n    const lastName = document.getElementById(\"lastName-input\");\r\n    const email = document.getElementById(\"email-input\");\r\n    const phone = document.getElementById(\"phone-input\");\r\n    const address = document.getElementById(\"address-input\");\r\n    const classId = document.getElementById(\"className-select\");\r\n\r\n    if (\r\n      firstName.value === \"\" ||\r\n      lastName.value === \"\" ||\r\n      address.value === \"\" ||\r\n      classId.value === \"\"\r\n    ) {\r\n      toasts.error(\"Udfyld venligst alle felter korrekt\");\r\n      return;\r\n    }\r\n\r\n    if (phone.value.replace(/\\s/g, \"\").length !== 8) {\r\n      toasts.error(\"Telefonnummer er ikke gyldig\");\r\n      return;\r\n    }\r\n\r\n    if (!validateEmail(email.value)) {\r\n      toasts.error(\"Email er ikke gyldig\");\r\n      return;\r\n    }\r\n\r\n    const student = {\r\n      firstName: firstName.value,\r\n      lastName: lastName.value,\r\n      email: email.value,\r\n      phone: phone.value,\r\n      address: address.value,\r\n      classId: classId.value,\r\n    };\r\n\r\n    await fetch(\"MYURL/api/students\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(student),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((responseText) => {\r\n        if (responseText.success) {\r\n          toasts.success(\"Elev er oprettet\");\r\n          getAllStudents();\r\n\r\n          firstName.value = \"\";\r\n          lastName.value = \"\";\r\n          email.value = \"\";\r\n          phone.value = \"\";\r\n          address.value = \"\";\r\n          classId.value = \"\";\r\n        } else {\r\n          toasts.error(\"Der skete en fejl\");\r\n        }\r\n      });\r\n  }\r\n</script>\r\n\r\n<div class=\"container\">\r\n  {#if $isAdmin}\r\n    <button on:click={handleFormOpen} id=\"open-new-student-form-btn\"\r\n      >Opret ny elev</button\r\n    >\r\n\r\n    <div id=\"create-new-student\" class=\"hidden\">\r\n      <p>Fornavn</p>\r\n      <input\r\n        name=\"firstname\"\r\n        id=\"firstName-input\"\r\n        type=\"text\"\r\n        placeholder=\"Fornavn\"\r\n      />\r\n      <p>Efternavn</p>\r\n      <input id=\"lastName-input\" type=\"text\" placeholder=\"Efternavn\" />\r\n      <p>Email</p>\r\n      <input id=\"email-input\" type=\"text\" placeholder=\"Email\" />\r\n      <p>Telefon</p>\r\n      <input id=\"phone-input\" type=\"tel\" placeholder=\"12 34 56 78\" />\r\n      <p>Adresse</p>\r\n      <input id=\"address-input\" type=\"text\" placeholder=\"Adresse\" />\r\n      <p>Klasse</p>\r\n      <select name=\"className-select\" id=\"className-select\">\r\n        {#each allClasses as className}\r\n          <option value={className.classId}>{className.className}</option>\r\n        {/each}\r\n      </select>\r\n\r\n      <button on:click={handleCreateStudent} id=\"create-student-btn\"\r\n        >Opret</button\r\n      >\r\n    </div>\r\n  {/if}\r\n  {#each $students as student}\r\n    {#if $isAdmin}\r\n      <StudentCard\r\n        firstName={student.firstName}\r\n        lastName={student.lastName}\r\n        studentNumber={student.studentNumber}\r\n        className={student.className}\r\n        email={student.email}\r\n        phone={student.phone}\r\n        address={student.address}\r\n        showGrades={true}\r\n        dansk={student.dansk}\r\n        engelsk={student.engelsk}\r\n        historie={student.historie}\r\n        matematik={student.matematik}\r\n        geografi={student.geografi}\r\n        small={true}\r\n      />\r\n    {:else}\r\n      <StudentCard\r\n        firstName={student.firstName}\r\n        lastName={student.lastName}\r\n        studentNumber={student.studentNumber}\r\n        className={student.className}\r\n        email={student.email}\r\n        phone={student.phone}\r\n        address={student.address}\r\n        showGrades={false}\r\n        small={true}\r\n      />\r\n    {/if}\r\n  {/each}\r\n</div>\r\n\r\n<style>\r\n  .container {\r\n    overflow: overlay;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n  }\r\n\r\n  #open-new-student-form-btn,\r\n  #create-student-btn {\r\n    margin: 25px;\r\n    outline: none;\r\n    border: none;\r\n    background: #1877f2;\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 0.4rem;\r\n    font-size: 1.1rem;\r\n    color: #fff;\r\n  }\r\n\r\n  #open-new-student-form-btn:hover,\r\n  #create-student-btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n\r\n  #create-new-student {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 25px 0;\r\n  }\r\n\r\n  input,\r\n  #className-select {\r\n    outline: none;\r\n    padding: 0.8rem 1rem;\r\n    margin-bottom: 0.8rem;\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  input:focus,\r\n  #className-select:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  #create-new-student.hidden {\r\n    height: 0px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    visibility: hidden;\r\n  }\r\n\r\n  :global(#create-new-student.show) {\r\n    animation: fadeIn 0.5s;\r\n    visibility: revert;\r\n  }\r\n</style>\r\n","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _toLeftRightCenter as $, _rlookupByKey as A, getAngleFromPoint as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, _isDomSupported as K, log10 as L, _factorize as M, finiteOrDefault as N, callback as O, PI as P, _addGrace as Q, toDegrees as R, _measureText as S, TAU as T, _int16Range as U, _alignPixel as V, clipArea as W, renderText as X, unclipArea as Y, toFont as Z, _arrayUnique as _, resolve as a, _angleDiff as a$, _alignStartEnd as a0, overrides as a1, merge as a2, _capitalize as a3, descriptors as a4, isFunction as a5, _attachContext as a6, _createResolver as a7, _descriptors as a8, mergeIf as a9, restoreTextDirection as aA, noop as aB, distanceBetweenPoints as aC, _setMinAndMaxByKey as aD, niceNum as aE, almostWhole as aF, almostEquals as aG, _decimalPlaces as aH, _longestText as aI, _filterBetween as aJ, _lookup as aK, getHoverColor as aL, clone$1 as aM, _merger as aN, _mergerIf as aO, _deprecated as aP, toFontString as aQ, splineCurve as aR, splineCurveMonotone as aS, getStyle as aT, fontString as aU, toLineHeight as aV, PITAU as aW, INFINITY as aX, RAD_PER_DEG as aY, QUARTER_PI as aZ, TWO_THIRDS_PI as a_, uid as aa, debounce as ab, retinaScale as ac, clearCanvas as ad, setsEqual as ae, _elementsEqual as af, _isClickEvent as ag, _isBetween as ah, _readValueToProps as ai, _updateBezierControlPoints as aj, _computeSegments as ak, _boundSegments as al, _steppedInterpolation as am, _bezierInterpolation as an, _pointInLine as ao, _steppedLineTo as ap, _bezierCurveTo as aq, drawPoint as ar, addRoundedRectPath as as, toTRBL as at, toTRBLCorners as au, _boundSegment as av, _normalizeAngle as aw, getRtlAdapter as ax, overrideTextDirection as ay, _textX as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };\n","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as getAngleFromPoint, C as toPadding, D as each, E as getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as _isDomSupported, L as log10, M as _factorize, N as finiteOrDefault, O as callback, Q as _addGrace, R as toDegrees, S as _measureText, U as _int16Range, V as _alignPixel, W as clipArea, X as renderText, Y as unclipArea, Z as toFont, $ as _toLeftRightCenter, a0 as _alignStartEnd, a1 as overrides, a2 as merge, a3 as _capitalize, a4 as descriptors, a5 as isFunction, a6 as _attachContext, a7 as _createResolver, a8 as _descriptors, a9 as mergeIf, aa as uid, ab as debounce, ac as retinaScale, ad as clearCanvas, ae as setsEqual, af as _elementsEqual, ag as _isClickEvent, ah as _isBetween, ai as _readValueToProps, aj as _updateBezierControlPoints, ak as _computeSegments, al as _boundSegments, am as _steppedInterpolation, an as _bezierInterpolation, ao as _pointInLine, ap as _steppedLineTo, aq as _bezierCurveTo, ar as drawPoint, as as addRoundedRectPath, at as toTRBL, au as toTRBLCorners, av as _boundSegment, aw as _normalizeAngle, ax as getRtlAdapter, ay as overrideTextDirection, az as _textX, aA as restoreTextDirection, aB as noop, aC as distanceBetweenPoints, aD as _setMinAndMaxByKey, aE as niceNum, aF as almostWhole, aG as almostEquals, aH as _decimalPlaces, aI as _longestText, aJ as _filterBetween, aK as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (!item.controller.options.grouped) {\n        continue;\n      }\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const dataset = this.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const dataset = this.getDataset();\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = _isPointInArea(center, chart.chartArea, chart._minPadding);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition);\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {axis: 'x', intersect: options.intersect}, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {axis: 'y', intersect: options.intersect}, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.7.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: _isPointInArea(e, this.chartArea, this._minPadding)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = findSegmentEnd(start, end, points);\n    const bounds = getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","<script>\r\n  import {\r\n    Chart,\r\n    ArcElement,\r\n    LineElement,\r\n    BarElement,\r\n    PointElement,\r\n    BarController,\r\n    BubbleController,\r\n    DoughnutController,\r\n    LineController,\r\n    PieController,\r\n    PolarAreaController,\r\n    RadarController,\r\n    ScatterController,\r\n    CategoryScale,\r\n    LinearScale,\r\n    LogarithmicScale,\r\n    RadialLinearScale,\r\n    TimeScale,\r\n    TimeSeriesScale,\r\n    Decimation,\r\n    Filler,\r\n    Legend,\r\n    Title,\r\n    Tooltip,\r\n    SubTitle,\r\n  } from \"chart.js\";\r\n\r\n  Chart.register(\r\n    ArcElement,\r\n    LineElement,\r\n    BarElement,\r\n    PointElement,\r\n    BarController,\r\n    BubbleController,\r\n    DoughnutController,\r\n    LineController,\r\n    PieController,\r\n    PolarAreaController,\r\n    RadarController,\r\n    ScatterController,\r\n    CategoryScale,\r\n    LinearScale,\r\n    LogarithmicScale,\r\n    RadialLinearScale,\r\n    TimeScale,\r\n    TimeSeriesScale,\r\n    Decimation,\r\n    Filler,\r\n    Legend,\r\n    Title,\r\n    Tooltip,\r\n    SubTitle\r\n  );\r\n  import { onMount } from \"svelte\";\r\n  import { userData } from '../store/store';\r\n  \r\n\r\n  let ctx;\r\n\r\n  const data = {\r\n  labels: [\r\n    'Fravær',\r\n    'Resterende lektioner'\r\n  ],\r\n  datasets: [{\r\n    label: 'Fraværs procent',\r\n    data: [$userData.absenceLessons, $userData.totalLessons - $userData.absenceLessons],\r\n    backgroundColor: [\r\n      'rgb(255, 99, 132)',\r\n      'rgb(54, 162, 235)'\r\n    ],\r\n    hoverOffset: 4\r\n  }]\r\n};\r\n\r\n  onMount(async () => {\r\n    new Chart(ctx, {\r\n      type: \"doughnut\",\r\n      data: data\r\n  }\r\n  )});\r\n</script>\r\n\r\n<canvas id=\"myChart\" width=\"100\" height=\"100\" bind:this={ctx} />\r\n\r\n\r\n","<script>\r\n  import Chart from \"../../components/Chart.svelte\";\r\n</script>\r\n\r\n<div class=\"container\">\r\n  <div class=\"chart-conatiner\">\r\n    <Chart />\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .container {\r\n    overflow: overlay;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .chart-conatiner {\r\n    width: 400px;\r\n    height: 400px;\r\n  }\r\n</style>\r\n","<script>\r\n  import { currentClass, isLoggedIn, isAdmin } from \"../../store/store\";\r\n  import { useNavigate, useLocation } from \"svelte-navigator\";\r\n  import { toasts } from \"svelte-toasts\";\r\n  import { onMount } from \"svelte\";\r\n  import moment from \"moment\";\r\n\r\n  let currentStudents = [];\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  //validate admin privileges\r\n  async function validateAdmin() {\r\n    const resp = await fetch(\"MYURL/api/login/status\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const respData = await resp.json();\r\n\r\n    isLoggedIn.set(respData.isLoggedIn);\r\n    isAdmin.set(respData.isAdmin);\r\n  }\r\n  onMount(async () => {\r\n    await validateAdmin();\r\n    if (!$isAdmin) {\r\n      navigate(\"/\", {\r\n        state: { from: $location.pathname },\r\n        replace: true,\r\n      });\r\n    }\r\n    currentStudents = await getStudentsFromClass();\r\n  });\r\n\r\n  async function getStudentsFromClass() {\r\n    const resp = await fetch(\r\n      \"MYURL/api/students/class/\" + $currentClass.classId,\r\n      {\r\n        credentials: \"include\",\r\n      }\r\n    );\r\n\r\n    const respData = await resp.json();\r\n\r\n    return respData.data;\r\n  }\r\n\r\n  async function addAbsence() {\r\n    const allCheckboxes = document.querySelectorAll(\".checkbox\");\r\n\r\n    allCheckboxes.forEach(async (checkbox) => {\r\n      const currentStudent = currentStudents.find(\r\n        (student) => student.studentId === Number(checkbox.value)\r\n      );\r\n\r\n      if (!checkbox.checked) {\r\n        if (\r\n          currentStudent.lastAbsenceCheckDate === moment().format(\"YYYY-MM-DD\")\r\n        )\r\n          return;\r\n\r\n        currentStudent.absenceLessons += 1;\r\n        currentStudent.lastAbsenceCheck = false;\r\n        currentStudent.lastAbsenceCheckDate = moment().format(\"YYYY-MM-DD\");\r\n      } else {\r\n        if (\r\n          currentStudent.lastAbsenceCheckDate === moment().format(\"YYYY-MM-DD\")\r\n        ) {\r\n          if (currentStudent.lastAbsenceCheck === 0) {\r\n            currentStudent.absenceLessons -= 1;\r\n          }\r\n        }\r\n        currentStudent.lastAbsenceCheck = true;\r\n        currentStudent.lastAbsenceCheckDate = moment().format(\"YYYY-MM-DD\");\r\n      }\r\n\r\n      await fetch(\"MYURL/api/students/absence/\" + checkbox.value, {\r\n        method: \"PATCH\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(currentStudent),\r\n      });\r\n    });\r\n    currentStudents = await getStudentsFromClass();\r\n    toasts.success(\"Fravær registreret\");\r\n  }\r\n</script>\r\n\r\n<div class=\"container\">\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Navn</th>\r\n        <th>Til stede</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {#each currentStudents as student}\r\n        <tr>\r\n          <td>{student.firstName + \" \" + student.lastName}</td>\r\n          <td id=\"checkbox-td\">\r\n            {#if student.lastAbsenceCheckDate === moment().format(\"YYYY-MM-DD\")}\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"checkbox\"\r\n                value={student.studentId}\r\n                checked={student.lastAbsenceCheck}\r\n              />\r\n            {:else}\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"checkbox\"\r\n                value={student.studentId}\r\n              />\r\n            {/if}\r\n          </td>\r\n        </tr>\r\n      {/each}\r\n    </tbody>\r\n  </table>\r\n\r\n  <button on:click={addAbsence} id=\"add-absence-btn\">Gem</button>\r\n</div>\r\n\r\n<style>\r\n  .container {\r\n    overflow: overlay;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n  }\r\n\r\n  table {\r\n    width: 300px;\r\n    border-collapse: collapse;\r\n    margin: 50px auto;\r\n  }\r\n  tr:nth-of-type(odd) {\r\n    background: #eee;\r\n  }\r\n  th {\r\n    background: var(--nav-color);\r\n    color: white;\r\n    font-weight: bold;\r\n  }\r\n\r\n  td,\r\n  th {\r\n    padding: 10px;\r\n    border: 1px solid #ccc;\r\n    text-align: left;\r\n    font-size: 18px;\r\n  }\r\n\r\n  #checkbox-td {\r\n    text-align: center;\r\n  }\r\n\r\n  input {\r\n    width: 25px;\r\n    height: 25px;\r\n  }\r\n\r\n  #add-absence-btn {\r\n    margin-bottom: 25px;\r\n    outline: none;\r\n    border: none;\r\n    background: #1877f2;\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 0.4rem;\r\n    font-size: 1.1rem;\r\n    color: #fff;\r\n  }\r\n\r\n  #add-absence-btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n","<script>\r\n  import { Link } from \"svelte-navigator\";\r\n  import { isAdmin, classes, currentClass } from \"../store/store\";\r\n\r\n  function handleChangeClass() {\r\n    const selectedClassId = document.getElementById(\"select-class\").value;\r\n\r\n    const classRoom = $classes.find(\r\n      (classRoom) => classRoom.classId === Number(selectedClassId)\r\n    );\r\n\r\n    currentClass.set(classRoom);\r\n\r\n    window.location.reload();\r\n  }\r\n</script>\r\n\r\n<nav>\r\n  <div class=\"logo\">\r\n    <Link to=\"/\" class=\"svelte-link logo-link\">\r\n      <svg\r\n        height=\"50px\"\r\n        width=\"100%\"\r\n        viewBox=\"0 0 512 512\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        ><path\r\n          fill=\"#fff\"\r\n          d=\"M318 123.645l-61.5 35.7-61.76-35.7 61.76-35.7zm93.68 54.19l-61.76 35.7 61.76 35.7 61.5-35.7zm-294.39 80.64l61.76 35.7 61.5-35.7-61.5-35.7zm139.52-80.57l-61.76 35.7 61.76 35.7 61.5-35.7zM31 298.365l62 35.69v-71l-62-35.65v71zm373-26l-62 35.69v70.94l62-35.66v-70.97zm-225.11-139.4l-61.76 35.7 61.76 35.7 61.5-35.7zM109 343.305l62 35.69v-70.94l-62-35.69v71zm225.41-120.45l-61.76 35.7 61.76 35.7 61.5-35.7zM249 353.055l-62-35.7v71l62 35.7v-71zm77-35.67l-61 35.67v70.94l61-35.66v-70.95zm8.07-184.5l-61.76 35.7 61.76 35.7 61.5-35.7zm-232.6 44.95l-61.77 35.7 61.76 35.7 61.5-35.7zM481 227.565l-61 35.66v70.94l61-35.66v-70.94zm-286.11 75.93l61.76 35.7 61.5-35.7-61.5-35.7z\"\r\n          class=\"cls-1\"\r\n        /></svg\r\n      >\r\n      <p class=\"brand-name\">PrettyIntra</p>\r\n    </Link>\r\n  </div>\r\n  <ul class=\"nav-links\">\r\n    <li class=\"nav-item\">\r\n      {#if $isAdmin && $currentClass !== null}\r\n        <select on:change={handleChangeClass} name=\"class\" id=\"select-class\">\r\n          <option class=\"option-class\" value=\"\"\r\n            >{$currentClass.className}</option\r\n          >\r\n\r\n          {#each $classes as classRoom}\r\n            {#if classRoom.classId !== $currentClass.classId}\r\n              <option class=\"option-class\" value={classRoom.classId}\r\n                >{classRoom.className}</option\r\n              >\r\n            {/if}\r\n          {/each}\r\n        </select>\r\n      {/if}\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <Link to=\"/\" class=\"svelte-link\">Forside</Link>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <Link to=\"/schedule\" class=\"svelte-link\">Skema</Link>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <Link to=\"/students\" class=\"svelte-link\">Elever</Link>\r\n    </li>\r\n    {#if !$isAdmin}\r\n      <li class=\"nav-item\">\r\n        <Link to=\"/absence\" class=\"svelte-link\">Fravær</Link>\r\n      </li>\r\n      {:else}\r\n      <li class=\"nav-item\">\r\n        <Link to=\"/protocol\" class=\"svelte-link\">Protokol</Link>\r\n      </li>\r\n    {/if}\r\n    <li class=\"nav-item\">\r\n      <Link to=\"/logout\" class=\"svelte-link\">Log ud</Link>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n\r\n<style>\r\n  :global(.svelte-link) {\r\n    color: var(--nav-font-color) !important;\r\n    text-decoration: none !important;\r\n  }\r\n\r\n  :global(.logo-link) {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  :global(#select-class) {\r\n    border: none;\r\n    background-color: transparent;\r\n    color: var(--nav-font-color);\r\n    font-size: 1em;\r\n    font-family: var(--primary-font);\r\n  }\r\n\r\n  :global(.option-class) {\r\n    background-color: var(--nav-color);\r\n  }\r\n\r\n  .brand-name {\r\n    margin-left: 20px;\r\n    font-family: var(--primary-font);\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  nav {\r\n    position: absolute;\r\n    width: 100%;\r\n    background-color: var(--nav-color);\r\n    height: var(--nav-height);\r\n  }\r\n\r\n  .logo {\r\n    font-size: 20px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 1%;\r\n    transform: translate(-1%, -50%);\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .nav-links {\r\n    height: 100%;\r\n    font-family: var(--primary-font);\r\n    font-size: 1em;\r\n    display: flex;\r\n    list-style: none;\r\n    width: 50%;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    margin-left: auto;\r\n  }\r\n\r\n  .nav-links .nav-item {\r\n    transition: all 0.3s ease 0s;\r\n    text-decoration: none;\r\n    color: var(--nav-font-color);\r\n  }\r\n</style>\r\n","<script>\r\n    import { useNavigate, useLocation } from \"svelte-navigator\";\r\n    import { isLoggedIn, isAdmin } from \"../store/store\";\r\n\r\n   const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n  async function validateLoginStatus(){\r\n    const resp = await fetch(\"MYURL/api/login/status\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n    });\r\n    const respData = await resp.json();\r\n    isLoggedIn.set(respData.isLoggedIn);\r\n    isAdmin.set(respData.isAdmin);\r\n  \r\n    if ($isLoggedIn === false) {\r\n      navigate(\"/login\", {\r\n        state: { from: $location.pathname },\r\n        replace: true,\r\n      });\r\n    }\r\n    }\r\n\r\n    validateLoginStatus();\r\n  \r\n</script>\r\n\r\n{#if $isLoggedIn}\r\n  <slot />\r\n{/if}\r\n","<script>\r\n\timport { Route } from \"svelte-navigator\";\r\n\timport PrivateRouteGuard from \"./PrivateRouteGuard.svelte\";\r\n\r\n\texport let path;\r\n</script>\r\n\r\n<Route {path} primary={false} let:params let:location let:navigate>\r\n\t<PrivateRouteGuard>\r\n\t\t<slot {params} {location} {navigate} />\r\n\t</PrivateRouteGuard>\r\n</Route>","<script>\r\n  import { useNavigate, useLocation } from \"svelte-navigator\";\r\n  import { isLoggedIn } from \"../store/store\";\r\n  import { toasts } from \"svelte-toasts\";\r\n  import { onMount } from \"svelte\";\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  onMount(async () => {\r\n    await fetch(\"MYURL/api/logout\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n    });\r\n  });\r\n\r\n  isLoggedIn.set(false);\r\n\r\n  $: if ($isLoggedIn === false) {\r\n    toasts.info(\"Du er nu logget ud\");\r\n    navigate(\"/login\", {\r\n      state: { from: $location.pathname },\r\n      replace: true,\r\n    });\r\n  }\r\n</script>\r\n\r\n{#if $isLoggedIn}\r\n  <slot />\r\n{/if}\r\n","<script>\r\n  import { isAdmin } from '../store/store';\r\n  import { toasts } from \"svelte-toasts\";\r\n  export let subject;\r\n  export let lessonId;\r\n  let color;\r\n\r\n  let thisSubject;\r\n\r\n  if (subject === \"Dansk\") {\r\n    color = \"#46B1C9\";\r\n  } else if (subject == \"Engelsk\") {\r\n    color = \"#84c0c6\";\r\n  } else if (subject == \"Historie\") {\r\n    color = \"#9fb7b9\";\r\n  } else if (subject == \"Matematik\") {\r\n    color = \"#bcc1ba\";\r\n  } else if (subject == \"Geografi\") {\r\n    color = \"#F2E2D2\";\r\n  }\r\n\r\n  async function handleDeleteLesson() {\r\n    await fetch(\"MYURL/api/lessons/\" + lessonId, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((responseData) => {\r\n        if (responseData.success) {\r\n          toasts.success(\"Lektion slettet\");\r\n        } else {\r\n          toasts.error(\"En fejl opstod\");\r\n        }\r\n      });\r\n\r\n      thisSubject.style.display = \"none\";\r\n  }\r\n</script>\r\n\r\n<div\r\n  id=\"subject-container\"\r\n  style={`background-color: ${color};`}\r\n  class=\"subject-container\"\r\n  bind:this={thisSubject}\r\n>\r\n  <p>{subject}</p>\r\n  {#if $isAdmin}\r\n  <button on:click={handleDeleteLesson} id=\"delete-lesson-btn\"\r\n    ><svg\r\n      id=\"trashicon\"\r\n      data-name=\"Layer 1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 128 128\"\r\n      ><defs\r\n        ><style>\r\n          .cls-1 {\r\n            fill: #2e79bd;\r\n          }\r\n          .cls-2 {\r\n            fill: #2d3e50;\r\n          }\r\n        </style></defs\r\n      ><title>x</title><path\r\n        class=\"\"\r\n        d=\"M17.66229,21.88486,63.3847,30.82574l45.72241,8.94088a1.559,1.559,0,0,0,1.82788-1.22994A10.15176,10.15176,0,0,0,102.9192,26.6239l-15.172-2.96684.79656-4.07352A11.10952,11.10952,0,0,0,79.7827,6.56318L57.33412,2.17343A11.1096,11.1096,0,0,0,44.31375,10.9345L43.51718,15.008l-15.172-2.96685A10.15176,10.15176,0,0,0,16.43235,20.057a1.559,1.559,0,0,0,1.22994,1.82788ZM60.0674,9.82374,74.369,12.62036a8.2641,8.2641,0,0,1,6.5245,9.69647h0l-15.2613-2.9843L50.37093,16.34825h0A8.2641,8.2641,0,0,1,60.0674,9.82374Z\"\r\n        id=\"id_101\"\r\n        fill=\"#4d709c\"\r\n      /><path\r\n        class=\"\"\r\n        d=\"M110.58839,47.36161H17.41161a1.559,1.559,0,0,0-1.55785,1.55785v5.90918c0,.85949,16.14275,61.05238,16.14275,61.05238a11.08149,11.08149,0,0,0,11.03938,10.153H84.96412A11.08149,11.08149,0,0,0,96.0035,115.881s16.14275-60.19289,16.14275-61.05238V48.91946A1.559,1.559,0,0,0,110.58839,47.36161Zm-61.934,64.2194a2.60793,2.60793,0,0,1-3.19666-1.84821c-4.44239-16.61345-8.95983-33.53068-11.91535-44.72956a2.61069,2.61069,0,1,1,5.04851-1.33243c2.95407,11.19159,7.47077,28.10409,11.911,44.71353A2.61043,2.61043,0,0,1,48.65435,111.581Zm17.95316-2.52243a2.61095,2.61095,0,0,1-5.22189,0V64.337a2.61095,2.61095,0,0,1,5.22189,0ZM94.45735,65.00325C91.3685,76.70879,86.46715,95.05644,82.542,109.73317a2.61073,2.61073,0,1,1-5.04414-1.34918c3.9237-14.67272,8.8236-33.01491,11.911-44.71316a2.61069,2.61069,0,1,1,5.04851,1.33243Z\"\r\n        id=\"id_102\"\r\n        fill=\"#4d709c\"\r\n      /></svg\r\n    ></button\r\n  >\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .subject-container {\r\n    font-family: var(--primary-font);\r\n    font-size: 1em;\r\n    font-weight: 500;\r\n    width: 150px;\r\n    height: 100px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    -webkit-box-shadow: inset 0px 0px 47px -3px #ffffff;\r\n    box-shadow: inset 0px 0px 47px -3px #ffffff;\r\n  }\r\n\r\n  #delete-lesson-btn {\r\n    background-color: transparent;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n\r\n  #trashicon {\r\n    height: 15px;\r\n    width: 15px;\r\n  }\r\n</style>\r\n","<script>\r\n  import { currentClass, isAdmin } from \"../store/store\";\r\n  import Lesson from \"./Lesson.svelte\";\r\n  import moment from \"moment\";\r\n  import { onMount } from \"svelte\";\r\n  import { toasts } from \"svelte-toasts\";\r\n\r\n  let week = {\r\n    monday: moment().startOf(\"week\").add(\"days\", 1).format(\"YYYY-MM-DD\"),\r\n    tuesday: moment().startOf(\"week\").add(\"days\", 2).format(\"YYYY-MM-DD\"),\r\n    wednesday: moment().startOf(\"week\").add(\"days\", 3).format(\"YYYY-MM-DD\"),\r\n    thursday: moment().startOf(\"week\").add(\"days\", 4).format(\"YYYY-MM-DD\"),\r\n    friday: moment().startOf(\"week\").add(\"days\", 5).format(\"YYYY-MM-DD\"),\r\n  };\r\n\r\n  async function getLessons() {\r\n    const resp = await fetch(\r\n      `MYURL/api/lessons/${$currentClass.classId}/${week.monday}/${week.friday}`,\r\n      {\r\n        credentials: \"include\",\r\n      }\r\n    );\r\n    const respData = await resp.json();\r\n    return respData.data;\r\n  }\r\n\r\n  onMount(async () => {\r\n    const lessons = await getLessons();\r\n    updateCalendar(lessons);\r\n  });\r\n\r\n  async function handleCalendarBack() {\r\n    week = {\r\n      monday: moment(week.monday).subtract(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      tuesday: moment(week.tuesday).subtract(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      wednesday: moment(week.wednesday)\r\n        .subtract(7, \"days\")\r\n        .format(\"YYYY-MM-DD\"),\r\n      thursday: moment(week.thursday).subtract(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      friday: moment(week.friday).subtract(7, \"days\").format(\"YYYY-MM-DD\"),\r\n    };\r\n\r\n    const lessons = await getLessons();\r\n\r\n    updateCalendar(lessons);\r\n  }\r\n\r\n  async function handleCalendarForward() {\r\n    week = {\r\n      monday: moment(week.monday).add(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      tuesday: moment(week.tuesday).add(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      wednesday: moment(week.wednesday).add(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      thursday: moment(week.thursday).add(7, \"days\").format(\"YYYY-MM-DD\"),\r\n      friday: moment(week.friday).add(7, \"days\").format(\"YYYY-MM-DD\"),\r\n    };\r\n\r\n    const lessons = await getLessons();\r\n\r\n    updateCalendar(lessons);\r\n  }\r\n\r\n  function updateCalendar(lessons) {\r\n    const cols = document.querySelectorAll(\".col-item\");\r\n\r\n    cols.forEach((col) => {\r\n      col.innerHTML = \"\";\r\n    });\r\n    let currentColDay = 0;\r\n\r\n    lessons.forEach((lesson, i) => {\r\n      const day = moment(lesson.lessonDate).day();\r\n\r\n      cols.forEach((col, j) => {\r\n        if (j % 4 === 0) ++currentColDay;\r\n\r\n        if (currentColDay === day) {\r\n          if (Number(col.dataset.value) === lesson.lessonNumber) {\r\n            new Lesson({\r\n              target: col,\r\n              props: {\r\n                subject: lesson.lessonSubject,\r\n                lessonId: lesson.lessonId,\r\n              },\r\n            });\r\n          }\r\n        }\r\n      });\r\n      currentColDay = 0;\r\n    });\r\n  }\r\n\r\n  function handleFormOpen() {\r\n    const form = document.getElementById(\"create-new-lesson\");\r\n\r\n    form.classList.toggle(\"hidden\");\r\n    form.classList.toggle(\"show\");\r\n  }\r\n\r\n  async function handleCreateLesson() {\r\n    const lessonDate = document.getElementById(\"date-input\");\r\n    const lessonNumber = document.getElementById(\"select-time\");\r\n    const lessonSubject = document.getElementById(\"select-lesson\");\r\n\r\n    if (\r\n      lessonDate.value === \"\" ||\r\n      lessonNumber.value === \"\" ||\r\n      lessonSubject.value === \"\"\r\n    ) {\r\n      toasts.error(\"Udfyld venligst alle felter\");\r\n      return;\r\n    }\r\n\r\n    const lesson = {\r\n      lessonDate: lessonDate.value,\r\n      lessonNumber: lessonNumber.value,\r\n      lessonSubject: lessonSubject.value,\r\n      classId: $currentClass.classId,\r\n    };\r\n\r\n    await fetch(\"MYURL/api/lessons\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(lesson),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.success) {\r\n          toasts.success(\"Lektionen er oprettet\");\r\n        }\r\n      });\r\n\r\n    const students = await getStudentsFromClass();\r\n\r\n    students.forEach(async (student) => {\r\n      student.totalLessons += 1;\r\n      await fetch(\"MYURL/api/students/lessons/\" + student.studentId, {\r\n        method: \"PATCH\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(student),\r\n      });\r\n    });\r\n\r\n    const lessons = await getLessons();\r\n    updateCalendar(lessons);\r\n  }\r\n\r\n  async function getStudentsFromClass() {\r\n    const resp = await fetch(\r\n      \"MYURL/api/students/class/\" + $currentClass.classId,\r\n      {\r\n        credentials: \"include\",\r\n      }\r\n    );\r\n\r\n    const respData = await resp.json();\r\n\r\n    return respData.data;\r\n  }\r\n</script>\r\n\r\n<div class=\"calendar-container\">\r\n  {#if $isAdmin}\r\n    <button on:click={handleFormOpen} id=\"open-new-lesson-form-btn\"\r\n      >Opret lektion</button\r\n    >\r\n\r\n    <div id=\"create-new-lesson\" class=\"hidden\">\r\n      <input type=\"date\" id=\"date-input\" />\r\n      <select name=\"select-time\" id=\"select-time\">\r\n        <option value=\"\" disabled selected>Vælg et tidspunkt</option>\r\n        <option value=\"1\">08:30-10:00</option>\r\n        <option value=\"2\">10:15-11:45</option>\r\n        <option value=\"3\">12:30-14:00</option>\r\n        <option value=\"4\">14:15-15:45</option>\r\n      </select>\r\n      <select name=\"select-lesson\" id=\"select-lesson\">\r\n        <option value=\"\" disabled selected>Vælg et fag</option>\r\n        <option value=\"Dansk\">Dansk</option>\r\n        <option value=\"Engelsk\">Engelsk</option>\r\n        <option value=\"Historie\">Historie</option>\r\n        <option value=\"Matematik\">Matematik</option>\r\n        <option value=\"Geografi\">Geografi</option>\r\n      </select>\r\n      <button on:click={handleCreateLesson} id=\"create-lesson-btn\">Opret</button\r\n      >\r\n    </div>\r\n  {/if}\r\n  <div class=\"calendar\">\r\n    <div class=\"rows\">\r\n      <div class=\"time-row top-left-corner\">Tidspunkt</div>\r\n      <div>Mandag <br /> {week.monday}</div>\r\n      <div>Tirsdag <br /> {week.tuesday}</div>\r\n      <div>Onsdag <br /> {week.wednesday}</div>\r\n      <div>Torsdag <br /> {week.thursday}</div>\r\n      <div class=\"top-right-corner\">Fredag <br /> {week.friday}</div>\r\n    </div>\r\n\r\n    <div class=\"cols\">\r\n      <div class=\"time\">08:30 - 10:00</div>\r\n      <div class=\"time\">10:15 - 11:45</div>\r\n      <div class=\"time\">12:30 - 14:00</div>\r\n      <div class=\"time bottom-left-corner\">14:15 - 15:45</div>\r\n\r\n      <div class=\"col-item\" data-value=\"1\" />\r\n      <div class=\"col-item\" data-value=\"2\" />\r\n      <div class=\"col-item\" data-value=\"3\" />\r\n      <div class=\"col-item\" data-value=\"4\" />\r\n\r\n      <div class=\"col-item\" data-value=\"1\" />\r\n      <div class=\"col-item\" data-value=\"2\" />\r\n      <div class=\"col-item\" data-value=\"3\" />\r\n      <div class=\"col-item\" data-value=\"4\" />\r\n\r\n      <div class=\"col-item\" data-value=\"1\" />\r\n      <div class=\"col-item\" data-value=\"2\" />\r\n      <div class=\"col-item\" data-value=\"3\" />\r\n      <div class=\"col-item\" data-value=\"4\" />\r\n\r\n      <div class=\"col-item\" data-value=\"1\" />\r\n      <div class=\"col-item\" data-value=\"2\" />\r\n      <div class=\"col-item\" data-value=\"3\" />\r\n      <div class=\"col-item\" data-value=\"4\" />\r\n\r\n      <div class=\"col-item\" data-value=\"1\" />\r\n      <div class=\"col-item\" data-value=\"2\" />\r\n      <div class=\"col-item\" data-value=\"3\" />\r\n      <div class=\"col-item bottom-right-corner\" data-value=\"4\" />\r\n    </div>\r\n  </div>\r\n  <div class=\"buttons\">\r\n    <button id=\"left-btn\" class=\"btn\" on:click={handleCalendarBack}\r\n      >&larr</button\r\n    >\r\n    <button id=\"right-btn\" class=\"btn\" on:click={handleCalendarForward}\r\n      >&rarr</button\r\n    >\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  #create-new-lesson.hidden {\r\n    height: 0px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    visibility: hidden;\r\n  }\r\n\r\n  :global(#create-new-lesson.show) {\r\n    animation: fadeIn 0.5s;\r\n    visibility: revert;\r\n  }\r\n\r\n  #open-new-lesson-form-btn,\r\n  #create-lesson-btn {\r\n    margin: 25px;\r\n    outline: none;\r\n    border: none;\r\n    background: #1877f2;\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 0.4rem;\r\n    font-size: 1.1rem;\r\n    color: #fff;\r\n  }\r\n\r\n  #open-new-lesson-form-btn:hover,\r\n  #create-lesson-btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n\r\n  #create-new-lesson {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    padding: 2rem;\r\n    width: 500px;\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 25px 0;\r\n  }\r\n\r\n  input,\r\n  #select-lesson,\r\n  #select-time {\r\n    outline: none;\r\n    padding: 0.8rem 1rem;\r\n    margin-bottom: 0.8rem;\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  input:focus,\r\n  #select-lesson:focus,\r\n  #select-time:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  .calendar-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding-top: 5%;\r\n  }\r\n\r\n  .btn {\r\n    width: 50px;\r\n    height: 25px;\r\n    border-radius: 5px;\r\n    border: none;\r\n    background-color: var(--color-blue-main);\r\n    color: #fff;\r\n  }\r\n\r\n  .btn:hover {\r\n    background: var(--color-blue-secondary);\r\n    cursor: pointer;\r\n  }\r\n\r\n  .calendar {\r\n    width: 840px;\r\n    background-color: #fff;\r\n    background: #fff;\r\n    font-size: 0.8em;\r\n\r\n    border-radius: 0.5rem;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    font-family: var(--primary-font);\r\n    margin: 10px 0;\r\n    height: 450px;\r\n  }\r\n\r\n  .top-left-corner {\r\n    border-radius: 0.5rem 0 0 0;\r\n  }\r\n\r\n  .top-right-corner {\r\n    border-radius: 0 0.5rem 0 0;\r\n  }\r\n\r\n  .bottom-right-corner {\r\n    border-radius: 0 0 0.5rem 0;\r\n  }\r\n\r\n  .bottom-left-corner {\r\n    border-radius: 0 0 0 0.5rem;\r\n  }\r\n  .rows {\r\n    width: 100%;\r\n    display: flex;\r\n  }\r\n\r\n  .rows div:not(.time-row) {\r\n    outline: 1px solid rgba(0, 0, 0, 0.7);\r\n    overflow: hidden;\r\n    height: 50px;\r\n    width: 150px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .time-row {\r\n    outline: 1px solid rgba(0, 0, 0, 0.7);\r\n    overflow: hidden;\r\n    height: 50px;\r\n    width: 90px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .cols {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n\r\n    max-height: 400px;\r\n  }\r\n  .col-item {\r\n    outline: 1px solid rgba(0, 0, 0, 0.7);\r\n    height: 100px;\r\n    width: 150px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .time {\r\n    outline: 1px solid rgba(0, 0, 0, 0.7);\r\n    overflow: hidden;\r\n    height: 100px;\r\n    width: 90px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #fff;\r\n  }\r\n</style>\r\n","<script>\r\n  import Calendar from \"../../components/Calendar.svelte\";\r\n</script>\r\n\r\n<div class=\"container\">\r\n  <Calendar />\r\n</div>\r\n\r\n<style>\r\n  .container {\r\n    overflow: overlay;\r\n  }\r\n</style>\r\n","<script>\r\n  export let senderIsYou;\r\n  export let message;\r\n</script>\r\n\r\n{#if senderIsYou}\r\n  <div class=\"from-you\">\r\n    <p>{message}</p>\r\n  </div>\r\n{:else}\r\n  <div class=\"from-other\">\r\n    <p>{message}</p>\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n    .from-you {\r\n    background: var(--color-blue-main);\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    margin-bottom: 10px;\r\n    margin-right: 10px;\r\n    max-width: 80%;\r\n    align-self: flex-end;\r\n  }\r\n\r\n  .from-other {\r\n    background: #202020;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    margin-bottom: 10px;\r\n    max-width: 80%;\r\n    align-self: flex-start;\r\n    word-break: break-all;\r\n  }\r\n</style>\r\n","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n\r\n  const dispatch = createEventDispatcher();\r\n\r\n  let recieverId = null;\r\n\r\n  function onSelect(){\r\n    dispatch('onSelect',{\r\n      recieverId: recieverId,\r\n    });\r\n  }\r\n\r\n  export let label;\r\n\r\n  async function getSearchResults() {\r\n    const search = document.getElementById(\"search\").value;\r\n    const resp = await fetch(\"MYURL/api/students/\" + search, {\r\n      credentials: \"include\",\r\n    });\r\n    const respData = await resp.json();\r\n\r\n    document.getElementById(\"datalist\").innerHTML = \"\";\r\n\r\n    respData.data.forEach((student) => {\r\n      const option = document.createElement(\"span\");\r\n      option.value = student.studentId;\r\n      option.innerHTML = student.firstName + \" \" + student.lastName;\r\n      option.classList.add(\"search-result\");\r\n      option.addEventListener(\"click\", () => {\r\n        document.getElementById(\"search\").value = \"\";\r\n        document.getElementById(\"datalist\").innerHTML = \"\";\r\n        document.getElementById(\"label\").innerHTML =\r\n          \"Chat med: \" + student.firstName + \" \" + student.lastName;\r\n        recieverId = option.value;\r\n        onSelect();\r\n        \r\n      });\r\n      document.getElementById(\"datalist\").appendChild(option);\r\n    });\r\n  }\r\n</script>\r\n\r\n<h4 id=\"label\">{label}</h4>\r\n<input\r\n  type=\"text\"\r\n  id=\"search\"\r\n  placeholder=\"Modtager\"\r\n  autocomplete=\"off\"\r\n  on:input={getSearchResults}\r\n/>\r\n<div id=\"datalist\" />\r\n\r\n<style>\r\n  #datalist {\r\n    background: #3d3d3d;\r\n    display: block;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: start;\r\n  }\r\n\r\n  :global(.search-result) {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    padding: 10px;\r\n  }\r\n\r\n  #search {\r\n    outline: none;\r\n    padding: 5px;\r\n    width: 100%;\r\n    border-radius: 5px;\r\n    border: none;\r\n  }\r\n\r\n  #search:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  #label{\r\n    font-family: var(--primary-font);\r\n    color: #000000;\r\n    margin-bottom: 5px;\r\n  }\r\n</style>\r\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { XHR as XMLHttpRequest } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = closeEvent => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent\n        });\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: Polling\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\"\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", reason => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(event);\n     * });\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(event);\n     * });\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * const handler = (event, ...args) => {\n     *   console.log(event);\n     * }\n     *\n     * socket.onAnyOutgoing(handler);\n     *\n     * // then later\n     * socket.offAnyOutgoing(handler);\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","<script>\r\n  import ChatMessage from \"./ChatMessage.svelte\";\r\n  import SearchSelect from \"./SearchSelect.svelte\";\r\n  import { userData } from \"../store/store\";\r\n  import moment from \"moment\";\r\n  import { io } from \"socket.io-client\";\r\n\r\n  const socket = io(\"MYURL\");\r\n\r\n  socket.on(\"connect\", () => {\r\n  });\r\n\r\n  setTimeout(() => {\r\n\r\n    const user = {\r\n    userId: $userData.studentId,\r\n  };\r\n  socket.emit(\"update-client-socket-ids\", user);\r\n    \r\n  }, 1000);\r\n  \r\n  let currentRecieverId = null;\r\n\r\n  async function updateChatRoom(event) {\r\n    currentRecieverId = event.detail.recieverId;\r\n\r\n    const resp = await fetch(\r\n      \"MYURL/api/chat/\" + $userData.studentId + \"/\" + currentRecieverId,\r\n      {\r\n        credentials: \"include\",\r\n      }\r\n    );\r\n\r\n    const respData = await resp.json();\r\n\r\n    document.getElementById(\"chat\").innerHTML = \"\";\r\n\r\n    respData.forEach((message) => {\r\n      let isYou = false;\r\n\r\n      if (message.sender === $userData.studentId) isYou = true;\r\n\r\n      new ChatMessage({\r\n        target: document.getElementById(\"chat\"),\r\n        props: {\r\n          senderIsYou: isYou,\r\n          message: message.message,\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  socket.on(\"receive-message\", (message) => {\r\n    if(message.senderId === currentRecieverId){\r\n      receiveMessage(message);\r\n    }\r\n  });\r\n\r\n  function receiveMessage(message) {\r\n    const chat = document.getElementById(\"chat\");\r\n\r\n    new ChatMessage({\r\n      target: chat,\r\n      props: {\r\n        senderIsYou: false,\r\n        message: message.message,\r\n      },\r\n    });\r\n\r\n    chat.scrollTop = chat.scrollHeight;\r\n  }\r\n\r\n  async function handleSendMessage() {\r\n    if (currentRecieverId === null) return;\r\n\r\n    const message = document.getElementById(\"message\").value;\r\n    const chat = document.getElementById(\"chat\");\r\n\r\n    if (message.length === 0) return;\r\n\r\n    const socketMessage = {\r\n      message: message,\r\n      senderId: $userData.studentId,\r\n      receiverId: currentRecieverId,\r\n    }\r\n\r\n    socket.emit(\"send-message\", socketMessage);\r\n\r\n    const data = {\r\n      sender: $userData.studentId,\r\n      reciever: currentRecieverId,\r\n      message: message,\r\n      messageSent: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n    };\r\n\r\n    await fetch(\"MYURL/api/chat\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    });\r\n\r\n    new ChatMessage({\r\n      target: chat,\r\n      props: {\r\n        senderIsYou: true,\r\n        message: message,\r\n      },\r\n    });\r\n\r\n    chat.scrollTop = chat.scrollHeight;\r\n    document.querySelector(\"#message\").value = \"\";\r\n  }\r\n\r\n  const onKeyPress = (e) => {\r\n    if (e.charCode === 13) {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n</script>\r\n\r\n<div class=\"chat-container\">\r\n  <div class=\"header\">\r\n    <SearchSelect label={\"Ny besked\"} on:onSelect={updateChatRoom} />\r\n  </div>\r\n\r\n  <hr />\r\n\r\n  <div id=\"chat\" />\r\n  <hr />\r\n  <div class=\"send-message\">\r\n    <input\r\n      id=\"message\"\r\n      type=\"text\"\r\n      placeholder=\"Skriv din besked her\"\r\n      autocomplete=\"off\"\r\n      on:keypress={onKeyPress}\r\n    />\r\n    <a id=\"send-message-btn\" on:click={handleSendMessage}\r\n      ><svg\r\n        width=\"35px\"\r\n        height=\"31.5px\"\r\n        viewBox=\"0 0 20 18\"\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n      >\r\n        <title>send</title>\r\n        <desc>Created with Sketch.</desc>\r\n        <g\r\n          id=\"Icons\"\r\n          stroke=\"none\"\r\n          stroke-width=\"1\"\r\n          fill=\"none\"\r\n          fill-rule=\"evenodd\"\r\n        >\r\n          <g id=\"Rounded\" transform=\"translate(-374.000000, -1529.000000)\">\r\n            <g id=\"Content\" transform=\"translate(100.000000, 1428.000000)\">\r\n              <g\r\n                id=\"-Round-/-Content-/-send\"\r\n                transform=\"translate(272.000000, 98.000000)\"\r\n              >\r\n                <g>\r\n                  <polygon id=\"Path\" points=\"0 0 24 0 24 24 0 24\" fill=\"none\" />\r\n                  <path\r\n                    d=\"M3.4,20.4 L20.85,12.92 C21.66,12.57 21.66,11.43 20.85,11.08 L3.4,3.6 C2.74,3.31 2.01,3.8 2.01,4.51 L2,9.12 C2,9.62 2.37,10.05 2.87,10.11 L17,12 L2.87,13.88 C2.37,13.95 2,14.38 2,14.88 L2.01,19.49 C2.01,20.2 2.74,20.69 3.4,20.4 Z\"\r\n                    id=\"🔹Icon-Color\"\r\n                    fill=\"#4d709c\"\r\n                  />\r\n                </g>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg></a\r\n    >\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .send-message {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: 13%;\r\n  }\r\n\r\n  #message {\r\n    outline: none;\r\n    padding: 5px;\r\n    width: 80%;\r\n    border-radius: 5px;\r\n    border: none;\r\n    height: 67%;\r\n  }\r\n\r\n  #message:focus {\r\n    border: 1.8px solid var(--color-blue-main);\r\n  }\r\n\r\n  #send-message-btn {\r\n    cursor: pointer;\r\n    height: 35px;\r\n    width: 35px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .chat-container {\r\n    height: 400px;\r\n    width: 300px;\r\n    margin-right: 100px;\r\n    background-color: rgb(190, 190, 190);\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n    color: #fff;\r\n    backdrop-filter: blur(10px);\r\n  }\r\n\r\n  #chat {\r\n    font-family: var(--primary-font);\r\n    color: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 70%;\r\n    overflow-y: scroll;\r\n    scroll-behavior: smooth;\r\n  }\r\n\r\n  .header {\r\n    width: 100%;\r\n    min-height: 15%;\r\n  }\r\n\r\n  hr {\r\n    margin: 2px;\r\n  }\r\n</style>\r\n","<script>\r\n  import ChatBox from \"./ChatBox.svelte\";\r\n  import { fly } from \"svelte/transition\";\r\n\r\n  let chatOpen = false;\r\n  function handleOpenCloseChat() {\r\n    chatOpen = !chatOpen;\r\n  }\r\n</script>\r\n\r\n<div id=\"chat-bar\">\r\n  {#if chatOpen}\r\n    <div class=\"chat-box\" in:fly={{ x: -200, duration: 500 }} out:fly={{ x: -200, duration: 500}}>\r\n      <ChatBox />\r\n    </div>\r\n  {/if}\r\n  <div on:click={handleOpenCloseChat} class=\"button-container\">\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"chaticon\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 115.98 122.88\"\r\n      style=\"enable-background:new 0 0 115.98 122.88\"\r\n      xml:space=\"preserve\"\r\n      ><g\r\n        ><path\r\n          d=\"M17.2,0h59.47c4.73,0,9.03,1.93,12.15,5.05c3.12,3.12,5.05,7.42,5.05,12.15v38.36c0,4.73-1.93,9.03-5.05,12.15 c-3.12,3.12-7.42,5.05-12.15,5.05H46.93L20.81,95.21c-1.21,1.04-3.04,0.9-4.08-0.32c-0.51-0.6-0.74-1.34-0.69-2.07l1.39-20.07H17.2 c-4.73,0-9.03-1.93-12.15-5.05C1.93,64.59,0,60.29,0,55.56V17.2c0-4.73,1.93-9.03,5.05-12.15C8.16,1.93,12.46,0,17.2,0L17.2,0z M102.31,27.98c3.37,0.65,6.39,2.31,8.73,4.65c3.05,3.05,4.95,7.26,4.95,11.9v38.36c0,4.64-1.89,8.85-4.95,11.9 c-3.05,3.05-7.26,4.95-11.9,4.95h-0.61l1.42,20.44l0,0c0.04,0.64-0.15,1.3-0.6,1.82c-0.91,1.07-2.52,1.19-3.58,0.28l-26.22-23.2 H35.01l17.01-17.3h36.04c7.86,0,14.3-6.43,14.3-14.3V29.11C102.35,28.73,102.34,28.35,102.31,27.98L102.31,27.98z M25.68,43.68 c-1.6,0-2.9-1.3-2.9-2.9c0-1.6,1.3-2.9,2.9-2.9h30.35c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9H25.68L25.68,43.68z M25.68,29.32c-1.6,0-2.9-1.3-2.9-2.9c0-1.6,1.3-2.9,2.9-2.9H68.7c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9H25.68L25.68,29.32z M76.66,5.8H17.2c-3.13,0-5.98,1.28-8.05,3.35C7.08,11.22,5.8,14.06,5.8,17.2v38.36c0,3.13,1.28,5.98,3.35,8.05 c2.07,2.07,4.92,3.35,8.05,3.35h3.34v0.01l0.19,0.01c1.59,0.11,2.8,1.49,2.69,3.08l-1.13,16.26L43.83,67.8 c0.52-0.52,1.24-0.84,2.04-0.84h30.79c3.13,0,5.98-1.28,8.05-3.35c2.07-2.07,3.35-4.92,3.35-8.05V17.2c0-3.13-1.28-5.98-3.35-8.05 C82.65,7.08,79.8,5.8,76.66,5.8L76.66,5.8z\"\r\n          fill=\"#4d709c\"\r\n        /></g\r\n      ></svg\r\n    >\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  #chat-bar {\r\n    position: absolute;\r\n    bottom: 2.5%;\r\n    right: 2.5%;\r\n  }\r\n  .button-container {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    height: 50px;\r\n    width: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgb(190, 190, 190);\r\n    border-radius: 50%;\r\n    box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n  }\r\n\r\n  #chaticon {\r\n    height: 60%;\r\n    width: 60%;\r\n  }\r\n\r\n  .chat-box{\r\n    overflow: hidden;\r\n  }\r\n</style>\r\n","<script>\n  import { Router, Route } from \"svelte-navigator\";\n  import { ToastContainer, FlatToast } from \"svelte-toasts\";\n  import { isLoggedIn, isAdmin } from \"./store/store\";\n  import Login from \"./pages/Login/Login.svelte\";\n  import Home from \"./pages/Home/Home.svelte\";\n  import Students from \"./pages/Students/Students.svelte\";\n  import Absence from \"./pages/Absence/Absence.svelte\";\n  import Protocol from \"./pages/Protocol/Protocol.svelte\";\n  import NavBar from \"./components/NavBar.svelte\";\n  import PrivateRoute from \"./components/PrivateRoute.svelte\";\n  import Logout from \"./components/Logout.svelte\";\n  import Schedule from \"./pages/Schedule/Schedule.svelte\";\n  import ChatBar from \"./components/ChatBar.svelte\";\n \n</script>\n\n<Router>\n  {#if $isLoggedIn}\n    <NavBar />\n  {/if}\n\n  <main>\n    <div class=\"wrapper\">\n      <PrivateRoute path=\"/\" let:location >\n        <Home />\n      </PrivateRoute>\n\n      <PrivateRoute path=\"/students\" let:location>\n        <Students />\n      </PrivateRoute>\n\n      {#if !$isAdmin}\n      <PrivateRoute path=\"/absence\" let:location>\n        <Absence />\n      </PrivateRoute>\n      {/if}\n\n      <PrivateRoute path=\"/protocol\" let:location>\n        <Protocol />\n      </PrivateRoute>\n\n      <PrivateRoute path=\"/schedule\" let:location>\n        <Schedule />\n      </PrivateRoute>\n\n  \n      <Route path=\"/login\" primary={false}>\n        <Login />\n      </Route>\n   \n      <Route path=\"/logout\" primary={false}>\n        <Logout />\n      </Route>\n\n      {#if $isLoggedIn}\n        <ChatBar />\n      {/if}\n\n      <ToastContainer placement=\"bottom-left\" let:data>\n        <FlatToast {data} />\n      </ToastContainer>\n    </div>\n  </main>\n</Router>\n\n<style>\n  main {\n    height: 100%;\n  }\n  .wrapper {\n    height: 100%;\n  }\n</style>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n});\n\nexport default app;"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","exclude_internal_props","props","result","compute_rest_props","keys","rest","Set","has","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","abort","append","target","node","appendChild","get_root_for_style","document","root","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","element","style","head","append_stylesheet","sheet","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","name","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","key","cssText","set","set_data","wholeText","set_style","important","removeProperty","setProperty","custom_event","type","detail","bubbles","e","createEvent","initCustomEvent","managed_styles","Map","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","t","rule","str","hash","charCodeAt","doc","stylesheet","rules","get","info","create_style_information","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","add_transform","getBoundingClientRect","left","top","getComputedStyle","transform","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","call","setContext","context","getContext","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","seen_callbacks","flushidx","saved_component","update","pop","fragment","before_update","after_update","wait","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","started","start","invalidate","end","create_out_transition","group","reset","fix_and_outro_and_destroy_block","lookup","outro_and_destroy_block","get_spread_update","levels","updates","to_null_out","accounted_for","n","get_spread_object","spread_props","create_component","mount_component","customElement","m","new_on_destroy","map","destroy_component","init","instance","create_fragment","not_equal","append_styles","parent_component","bound","on_disconnect","skip_bound","ready","ret","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","this","$on","index","splice","$set","$$props","obj","$$set","isUndefined","isFunction","isNumber","createCounter","isSSR","addListener","subscriber_queue","writable","stop","subscribers","new_value","run_queue","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","readable","inited","values","pending","sync","unsubscribers","createKey","ctxName","LOCATION","ROUTER","ROUTE","ROUTE_PARAMS","FOCUS_ELEM","paramRegex","startsWith","string","search","substr","isSplat","segment","stripSlashes","replace","segmentize","uri","filterFalsy","segments","Boolean","addQuery","pathname","query","normalizePath","path","pathFragments","joinedSegments","labels","createLabel","labelId","createMessage","message","originId","origin","to","basepath","createIdentifier","originMsg","label","createMessageHandler","args","fail","warn","console","rankRoute","route","score","default","fullPath","reduce","acc","nextScore","isRootSegment","test","isDynamic","SEGMENT_POINTS","pick","routes","bestMatch","defaultMatch","uriPathname","uriSegments","isRootUri","ranked","sort","rankRoutes","missed","createMatch","routeSegments","routeSegment","uriSegment","splatName","decodeURIComponent","dynamicMatch","exec","match","normalizeLocation","location","state","baseSegments","pathSegments","shift","normalizeUrlFragment","frag","createLocation","url","searchIndex","hashIndex","hasSearchIndex","hasHashIndex","pathnameAndSearch","resolveLink","routeBase","appBase","base","toPathname","toQuery","basePathname","toSegments","concat","allSegments","extractBaseUri","routePath","routeMatch","POP","getLocation","source","encodeURI","decodeURI","history","_key","createStackFrame","canUseDOM","isEmbeddedPage","globalHistory","listeners","action","notifyListeners","listenerFns","listener","unlisten","navigate","keyedState","random","toString","substring","createHistory","initialPathname","stack","entries","pushState","title","replaceState","newIndex","createMemorySource","focusCandidate","initialNavigation","pushFocusCandidate","item","level","routerIdA","routerIdB","routerMarkers","querySelectorAll","currentId","Number","dataset","svnavRouter","isAbove","routerId","focus","elem","TABINDEX","hasAttribute","blurListener","activeElement","isEndMarker","id","svnavRouteEnd","selector","parent","querySelector","handleFocus","focusElement","current","nextElementSibling","tagName","heading","queryHeading","documentElement","createTriggerFocus","a11yConfig","announcementText","manageFocus","announceNavigation","announcements","meta","announcementMessage","createAnnouncement","if_block","div","create_if_block","createId","defaultBasepath","primary","a11y","initialBasepath","normalizedBasepath","locationContext","routerContext","isTopLevelRouter","activeRoute","hasActiveRoute","prevLocation","$location","triggerFocus","createRouteFilter","routeId","routeList","routeItem","changedHistory","normalizedLocation","registerRoute","matchingRoute","prevRoutes","nextRoutes","unregisterRoute","$routes","hasHash","shouldManageFocus","$prevLocation","$activeRoute","usePreflightCheck","componentId","ctxKey","ctxProviderId","useLocation","toReadonly","useHistory","useRouteBase","_route","useResolve","useNavigate","div0","div1","parentBase","ssrMatch","isDefault","rawBase","$parentBase","updatedRoute","$$invalidate","isActive","activeParams","a_levels","href","getProps","isPartiallyCurrent","isCurrent","ariaCurrent","dynamicProps","$$restProps","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","shouldNavigate","preventDefault","toasts","initialValue","defaultOptions","placement","theme","remove","v","findIndex","setTimeout","onRemove","success","getHelper","error","warning","clearAll","clearLast","getById","find","setDefaults","notificationsStore","arguments","description","cubicOut","fade","linear","opacity","fly","y","target_opacity","od","u","flip","ox","oy","transformOrigin","parseFloat","dx","width","dy","height","sqrt","sx","sy","switch_value","li","position","right","bottom","li_intro","func","reverse","get_key","ul","old_blocks","dynamic","list","destroy","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","abs","will_move","did_move","first","new_block","old_block","new_key","old_key","each_blocks","showProgress","is_date","prototype","get_interpolator","arr","bi","getTime","delta","interpolators","svg","path0","path1","t_value","h3","progress_1","t2_value","create_if_block_2","create_if_block_3","create_if_block_4","if_block0","create_if_block_1","if_block1","div2","t2","progress","defaults","target_value","opts","previous_task","interpolate","elapsed","tweened","stopPropagation","onClick","responseData","isLoggedIn","isAdmin","storedUserData","localStorage","getItem","userData","JSON","parse","setItem","stringify","storedClasses","classes","storedCurrentClass","currentClass","posts","students","div3","h2","input0","input1","handleLogin","username","getElementById","password","fetch","method","body","headers","credentials","response","json","$isLoggedIn","$responseData","charCode","firstName","lastName","h4","p0","p1","content","creator","timestamp","postId","resp","$currentClass","classId","respData","getPosts","toggle","classList","toggle_class","h50","hr","h51","p2","p3","t0","t0_value","h5","p4","studentNumber","className","email","phone","address","showGrades","dansk","engelsk","historie","matematik","geografi","small","overview","module","exports","hookCallback","some","hooks","apply","setHookCallback","input","isObject","hasOwnProp","hasOwnProperty","isObjectEmpty","getOwnPropertyNames","isDate","res","arrLen","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","defaultParsingFlags","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidEra","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","era","meridiem","rfc2822","weekdayMismatch","getParsingFlags","_pf","isValid","_isValid","flags","parsedParts","isNowValid","isNaN","_d","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","fun","momentProperties","updateInProgress","copyConfig","prop","val","momentPropertiesLen","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","Moment","updateOffset","isMoment","msg","suppressDeprecationWarnings","deprecate","firstTime","deprecationHandler","arg","argLen","deprecations","deprecateSimple","Function","_config","_dayOfMonthOrdinalParseLenient","RegExp","_dayOfMonthOrdinalParse","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","calendar","mom","output","_calendar","zeroFill","number","targetLength","forceSign","absNumber","zerosToFill","pow","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","token","padded","ordinal","localeData","removeFormattingTokens","makeFormatFunction","array","formatMoment","expandFormat","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","_longDateFormat","formatUpper","toUpperCase","tok","defaultInvalidDate","_invalidDate","defaultOrdinal","defaultDayOfMonthOrdinalParse","_ordinal","defaultRelativeTime","future","past","s","ss","mm","h","hh","dd","w","ww","M","MM","yy","relativeTime","withoutSuffix","isFuture","_relativeTime","pastFuture","diff","aliases","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","getPrioritizedUnits","unitsObj","isLeapYear","year","absFloor","ceil","floor","toInt","argumentForCoercion","coercedNumber","isFinite","makeGetSet","keepTime","set$1","month","date","daysInMonth","stringGet","stringSet","prioritized","prioritizedLen","regexes","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchTimestamp","matchWord","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","matched","tokens","addParseToken","tokenLen","addWeekParseToken","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","mod","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","defaultLocaleMonths","defaultLocaleMonthsShort","MONTHS_IN_FORMAT","defaultMonthsShortRegex","defaultMonthsRegex","localeMonths","_months","isFormat","localeMonthsShort","_monthsShort","handleStrictParse","monthName","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","localeMonthsParse","_monthsParseExact","setMonth","dayOfMonth","min","getSetMonth","getDaysInMonth","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","_monthsStrictRegex","_monthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","daysInYear","parseTwoDigitYear","parseInt","getSetYear","getIsLeapYear","createDate","ms","getFullYear","setFullYear","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","localeWeek","_week","defaultLocaleWeek","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","parseWeekday","weekdaysParse","parseIsoWeekday","shiftWeekdays","ws","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","localeWeekdays","_weekdays","day","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getDay","getSetLocaleDayOfWeek","getSetISODayOfWeek","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","minp","shortp","longp","minPieces","hFormat","hours","kFormat","lowercase","minutes","matchMeridiem","_meridiemParse","localeIsPM","charAt","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","localeMeridiem","isLower","globalLocale","baseConfig","dayOfMonthOrdinalParse","meridiemParse","locales","localeFamilies","commonPrefix","arr1","arr2","minl","normalizeLocale","chooseLocale","names","j","loadLocale","isLocaleNameSane","oldLocale","_abbr","require","getSetGlobalLocale","getLocale","defineLocale","abbr","parentLocale","updateLocale","tmpLocale","listLocales","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","isoDatesLen","isoTimesLen","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","untruncateYear","preprocessRFC2822","checkWeekday","weekdayStr","parsedInput","calculateOffset","obsOffset","militaryOffset","numOffset","hm","configFromRFC2822","parsedArray","setUTCMinutes","getUTCMinutes","configFromString","createFromInputFallback","currentDateArray","nowValue","_useUTC","getUTCMonth","getUTCDate","getMonth","getDate","configFromArray","currentDate","expectedWeekday","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","weekYear","temp","weekdayOverflow","curWeek","GG","W","E","createLocal","gg","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","meridiemFixWrap","erasConvertYear","hour","isPm","meridiemHour","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","validFormatFound","bestFormatIsValid","configfLen","configFromObject","dayOrDate","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","prototypeMin","other","prototypeMax","pickBy","moments","ordering","isDurationValid","unitHasDecimal","orderLen","isValid$1","createInvalid$1","createDuration","Duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","_milliseconds","_days","_data","_bubble","isDuration","absRound","round","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","offset","separator","utcOffset","sign","offsetFromString","chunkOffset","matcher","parts","matches","cloneWithOffset","model","clone","setTime","getDateOffset","getTimezoneOffset","getSetOffset","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","addSubtract","getSetZone","setOffsetToUTC","setOffsetToLocal","subtract","setOffsetToParsedOffset","tZone","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","toArray","isLocal","isUtcOffset","isUtc","aspNetRegex","isoRegex","diffRes","parseIso","momentsDifference","inp","positiveMomentsDifference","isAfter","isBefore","createAdder","period","tmp","isAdding","invalid","isString","String","isMomentInput","isNumberOrStringArray","isMomentInputObject","property","objectTest","propertyTest","properties","propertyLen","arrayTest","dataTypeTest","isCalendarSpec","getCalendarFormat","myMoment","calendar$1","time","formats","sod","startOf","calendarFormat","localInput","endOf","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","asFloat","that","zoneDelta","monthDiff","wholeMonthDiff","toISOString","keepOffset","toDate","inspect","prefix","datetime","suffix","zone","inputString","defaultFormatUtc","defaultFormat","postformat","humanize","fromNow","toNow","newLocaleData","lang","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","MS_PER_400_YEARS","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","startOfDate","isoWeekday","unix","toObject","toJSON","isValid$2","parsingFlags","invalidAt","creationData","localeEras","eras","_eras","since","until","localeErasParse","eraName","narrow","localeErasConvertYear","dir","getEraName","getEraNarrow","getEraAbbr","getEraYear","erasNameRegex","computeErasParse","_erasNameRegex","_erasRegex","erasAbbrRegex","_erasAbbrRegex","erasNarrowRegex","_erasNarrowRegex","matchEraAbbr","matchEraName","matchEraNarrow","matchEraYearOrdinal","_eraYearOrdinalRegex","abbrPieces","namePieces","narrowPieces","addWeekYearFormatToken","getter","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","getISOWeeksInYear","getISOWeeksInISOWeekYear","isoWeekYear","getWeeksInYear","weekInfo","getWeeksInWeekYear","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","erasParse","eraYearOrdinalParse","getSetDayOfMonth","getSetDayOfYear","getSetMinute","getSetMillisecond","getSetSecond","parseMs","getZoneAbbr","getZoneName","proto","createUnix","createInZone","parseZone","preParsePostFormat","Symbol","for","eraNarrow","eraAbbr","eraYear","isoWeeks","weeksInWeekYear","isoWeeksInYear","isoWeeksInISOWeekYear","isDST","zoneAbbr","zoneName","dates","isDSTShifted","proto$1","get$1","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","firstDayOfYear","firstDayOfWeek","langData","mathAbs","addSubtract$1","add$1","subtract$1","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","as","valueOf$1","makeAs","alias","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","clone$1","get$2","makeGetter","thresholds","substituteTimeAgo","relativeTime$1","posNegDuration","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","threshold","limit","argWithSuffix","argThresholds","withSuffix","th","abs$1","toISOString$1","totalSign","ymSign","daysSign","hmsSign","total","toFixed","proto$2","toIsoString","version","relativeTimeRounding","relativeTimeThreshold","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","factory","div4","button0","h1","textarea","button1","handleFormOpen","studentName","created","post_changes","studentcard_changes","teachercard_changes","form","mounted","async","$isAdmin","teacherData","getTeacherData","classRoom","getStudentData","moment","$userData","post","responseText","input2","input3","input4","p5","select","option","__value","option_value_value","allClasses","getAllStudents","getAllClasses","validateEmail","student","requestAnimFrame","throttled","thisArg","updateFn","updateArgs","ticking","_toLeftRightCenter","align","_alignStartEnd","isNullOrUndef","isNumberFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","each","loopable","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","klen","isValidKey","_merger","tval","sval","merge","sources","merger","mergeIf","_mergerIf","indexOfDotOrLength","idx","resolveObjectKey","_capitalize","defined","setsEqual","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","niceNum","range","roundedRange","almostEquals","niceRange","fraction","epsilon","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","atEdge","elasticIn","sin","elasticOut","effects","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","A","B","C","D","F","hex","eq","hexString","g","isShort","lim","p2b","n2b","b2n","n2p","RGB_RE","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","calln","hsl2rgb","hue","hueParse","hwb2rgb","hsv2rgb","map$1","Z","Y","X","V","U","T","S","R","Q","P","O","N","K","G","H","I","J","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names$1","nameParse","unpacked","tkeys","ok","nk","unpack","transparent","modHSL","ratio","fromObject","functionParse","rgbParse","Color","constructor","_rgb","_valid","valid","rgbString","hslString","mix","color","weight","me","c1","c2","w2","w1","alpha","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","overrides","getScope$1","scope","_descriptors","backgroundColor","borderColor","datasets","devicePixelRatio","chart","platform","getDevicePixelRatio","elements","events","font","family","lineHeight","hover","hoverBackgroundColor","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","maintainAspectRatio","onHover","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","enumerable","_scriptable","_indexable","_fallback","_measureText","gc","longest","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","resetTransform","clearRect","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","clip","unclipArea","_steppedLineTo","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","lines","strokeWidth","strokeColor","line","translation","fillStyle","textAlign","textBaseline","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","fallback","toFontString","inputs","cacheable","createContext","parentContext","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","stub","_chartjs","_arrayUnique","items","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","receiver","isScriptable","_resolveScriptable","isIndexable","resolver","_resolveArray","_resolveWithContext","allKeys","configurable","scriptable","indexable","_allKeys","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","points","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","positions","getPositionedStyle","styles","getRelativePosition","evt","borderBox","boxSizing","paddings","borders","box","native","touches","offsetX","offsetY","shadowRoot","useOffsetPos","clientX","clientY","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","formatNumber","num","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","original","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","count","_boundSegment","bounds","startBound","endBound","getSegment","prevValue","inside","subStart","shouldStart","shouldStop","_boundSegments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","animator","_request","_charts","_running","_lastDate","_notify","anims","numSteps","initial","currentStep","_refresh","_update","remaining","draw","_active","_total","_getAnims","charts","complete","cur","_duration","cancel","boolean","factor","c0","Animation","cfg","currentValue","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","remain","promises","rej","resolved","animationOptions","colors","numbers","resize","show","animations","visible","hide","Animations","_properties","configure","animatedProps","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","all","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","getDatasetMeta","scaleID","_getOtherScale","_destroy","_dataCheck","adata","convertObjectDataToArray","isExtensible","defineProperty","object","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","minDefined","maxDefined","getUserBounds","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","disabled","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","updateElement","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","super","bars","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","last","grouped","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_index_","grid","_value_","beginAtZero","BubbleController","getPixelForDecimal","tooltip","DoughnutController","innerRadius","outerRadius","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","toPercentage","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","pointCount","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","abstract","DateAdapter","amount","members","adapters","_date","getRelativePosition$1","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestCartesianItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestItems","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","padding","autoPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","fromNativeEvent","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","attach","isConnected","Element","tooltipPosition","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","newTicks","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","minor","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","_int16Range","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","_computeLabelArea","drawBackground","fillRect","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","titleX","titleY","titleArgs","tz","gz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","reg","_getRegistryForType","_exec","itemReg","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","instances","getChart","moveNumericKeys","intKey","Chart","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","parseBorderRadius$1","angleDelta","toRadiusCorners","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p8","inner","lineJoin","fullCircles","drawFullCircleBorders","ArcElement","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","addRectPath","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getStartAndCountOfVisiblePointsSimplified","decimated","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","intermediateIndex1","intermediateIndex2","minMaxDecimation","decodeFill","fillOption","parseFillOption","simpleArc","computeBoundary","computeCircularBoundary","computeLinearBoundary","findSegmentEnd","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","unshift","pointValue","linePoints","firstValue","lastValue","getLineByIndex","sourcePoints","below","getLinesBelow","createBoundaryLine","buildStackLine","boundary","pointsFromSegments","resolveTarget","propagate","visited","clipY","lineLoop","getBounds","_getEdge","clipBounds","interpolatedLineTo","interpolatedPoint","_fill","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","notShape","targetLoop","drawfill","lineOpts","above","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","fontColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","findOrAddLabel","addedLabels","addIfString","lastIndexOf","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","stepSize","computeTickLimit","LinearScale","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","updateLimits","setCenterPoint","_pointLabelItems","extra","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","buildPointLabelItems","hLimits","vLimits","pathRadiusLine","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","animate","INTERVALS","common","steps","UNITS","sorter","adapter","_adapter","parser","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","Decimation","Filler","SubTitle","absenceLessons","totalLessons","$$value","input_value_value","studentId","checked","input_checked_value","lastAbsenceCheck","show_if","lastAbsenceCheckDate","tr","td0","td1","thead","tbody","currentStudents","getStudentsFromClass","validateAdmin","currentStudent","checkbox","nav","li0","li1","li2","li3","li4","selectedClassId","$classes","reload","validateLoginStatus","thisSubject","subject","lessonId","select0","option0","option1","option2","option3","option4","select1","option5","option6","option7","option8","option9","option10","t5_value","monday","t9_value","tuesday","t13_value","wednesday","t17_value","thursday","t21_value","friday","div34","div32","div6","br0","br1","br2","br3","div5","br4","div31","div33","t5","t9","t13","t17","t21","getLessons","updateCalendar","lessons","cols","innerHTML","currentColDay","lesson","lessonDate","lessonNumber","Lesson","lessonSubject","senderIsYou","recieverId","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","encodePacket","supportsBinary","encodeBlobAsBase64","isView","buffer","fileReader","FileReader","onload","readAsDataURL","chars","Uint8Array","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","bytes","decode","SEPARATOR","fromCharCode","Emitter","mixin","on","_callbacks","once","off","removeAllListeners","emit","emitReserved","hasListeners","globalThisShim","self","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","setTimeoutFn","bind","globalThis","clearTimeoutFn","TransportError","reason","Transport","readyState","socket","onError","open","doOpen","close","doClose","onClose","send","packets","write","onOpen","onData","packet","onPacket","details","alphabet","seed","encode","encoded","yeast","encodeURIComponent","XMLHttpRequest","err","hasCORS","XHR","xdomain","hasXHR2","responseType","Request","xd","xscheme","xs","xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","withCredentials","requestTimeout","onreadystatechange","status","onLoad","requestsCount","requests","fromError","attachEvent","unloadHandler","nextTick","WebSocket","MozWebSocket","isReactNative","navigator","product","transports","websocket","forceBase64","check","protocols","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","onmessage","ev","onerror","lastPacket","schema","secure","port","timestampRequests","timestampParam","b64","encodedQuery","hostname","polling","isSSL","protocol","poll","pause","onPause","doPoll","encodedPayload","encodedPackets","decodedPacket","decodePayload","encodePayload","doWrite","sid","request","req","xhrStatus","pollXhr","re","authority","ipv6uri","pathNames","regx","queryKey","$0","$1","$2","Socket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","perMessageDeflate","transportOptions","closeOnBeforeunload","qs","qry","pairs","pair","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","offlineEventListener","createTransport","EIO","priorWebsocketSuccess","setTransport","onDrain","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","onHandshake","resetPingTimeout","sendPacket","code","filterUpgrades","maxPayload","getWritablePackets","payloadSize","utf8Length","byteLength","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","Socket$1","withNativeFile","File","isBinary","hasBinary","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","newData","reconstructPacket","_reconstructPacket","PacketType","Decoder","reviver","decodeString","BINARY_EVENT","BINARY_ACK","reconstructor","BinaryReconstructor","takeBinaryData","buf","nsp","payload","tryParse","isPayloadValid","static","CONNECT","DISCONNECT","CONNECT_ERROR","EVENT","ACK","finishedReconstruction","reconPack","binData","replacer","encodeAsString","encodeAsBinary","deconstruction","RESERVED_EVENTS","connect","connect_error","disconnecting","newListener","io","connected","receiveBuffer","sendBuffer","ids","acks","auth","_autoConnect","disconnected","subEvents","subs","onpacket","_readyState","ack","_registerAckCallback","isTransportWritable","engine","volatile","notifyOutgoingListeners","timer","_packet","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","jitter","attempts","rand","deviation","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","encoder","Encoder","decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","skipReconnect","openSubDestroy","errorSub","onping","ondata","ondecoded","_close","onreconnect","attempt","loc","sameNamespace","forceNew","multiplex","hr0","hr1","user","userId","currentRecieverId","handleSendMessage","chat","socketMessage","senderId","receiverId","sender","reciever","messageSent","ChatMessage","scrollTop","scrollHeight","receiveMessage","isYou","div_intro","div_outro","chatOpen","main"],"mappings":"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"}